

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="./">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>API Reference &mdash; PySODMetrics 1.6.0 documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=e59714d7" />

  
      <script src="_static/jquery.js?v=5d32c60e"></script>
      <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="_static/documentation_options.js?v=72d88caf"></script>
      <script src="_static/doctools.js?v=9bcbadda"></script>
      <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="Supported Metrics" href="metrics.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            PySODMetrics
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">User Guide</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="usage.html">Usage Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="metrics.html">Supported Metrics</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">API Reference</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">API Reference</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#module-py_sod_metrics.sod_metrics">Core Metrics Module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#py_sod_metrics.sod_metrics.Fmeasure"><code class="docutils literal notranslate"><span class="pre">Fmeasure</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#py_sod_metrics.sod_metrics.Fmeasure.__init__"><code class="docutils literal notranslate"><span class="pre">Fmeasure.__init__()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#py_sod_metrics.sod_metrics.Fmeasure.step"><code class="docutils literal notranslate"><span class="pre">Fmeasure.step()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#py_sod_metrics.sod_metrics.Fmeasure.cal_adaptive_fm"><code class="docutils literal notranslate"><span class="pre">Fmeasure.cal_adaptive_fm()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#py_sod_metrics.sod_metrics.Fmeasure.cal_pr"><code class="docutils literal notranslate"><span class="pre">Fmeasure.cal_pr()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#py_sod_metrics.sod_metrics.Fmeasure.get_results"><code class="docutils literal notranslate"><span class="pre">Fmeasure.get_results()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#py_sod_metrics.sod_metrics.MAE"><code class="docutils literal notranslate"><span class="pre">MAE</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#py_sod_metrics.sod_metrics.MAE.__init__"><code class="docutils literal notranslate"><span class="pre">MAE.__init__()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#py_sod_metrics.sod_metrics.MAE.step"><code class="docutils literal notranslate"><span class="pre">MAE.step()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#py_sod_metrics.sod_metrics.MAE.cal_mae"><code class="docutils literal notranslate"><span class="pre">MAE.cal_mae()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#py_sod_metrics.sod_metrics.MAE.get_results"><code class="docutils literal notranslate"><span class="pre">MAE.get_results()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#py_sod_metrics.sod_metrics.Smeasure"><code class="docutils literal notranslate"><span class="pre">Smeasure</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#py_sod_metrics.sod_metrics.Smeasure.__init__"><code class="docutils literal notranslate"><span class="pre">Smeasure.__init__()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#py_sod_metrics.sod_metrics.Smeasure.step"><code class="docutils literal notranslate"><span class="pre">Smeasure.step()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#py_sod_metrics.sod_metrics.Smeasure.cal_sm"><code class="docutils literal notranslate"><span class="pre">Smeasure.cal_sm()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#py_sod_metrics.sod_metrics.Smeasure.s_object"><code class="docutils literal notranslate"><span class="pre">Smeasure.s_object()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#py_sod_metrics.sod_metrics.Smeasure.object"><code class="docutils literal notranslate"><span class="pre">Smeasure.object()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#py_sod_metrics.sod_metrics.Smeasure.region"><code class="docutils literal notranslate"><span class="pre">Smeasure.region()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#py_sod_metrics.sod_metrics.Smeasure.ssim"><code class="docutils literal notranslate"><span class="pre">Smeasure.ssim()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#py_sod_metrics.sod_metrics.Smeasure.get_results"><code class="docutils literal notranslate"><span class="pre">Smeasure.get_results()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#py_sod_metrics.sod_metrics.Emeasure"><code class="docutils literal notranslate"><span class="pre">Emeasure</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#py_sod_metrics.sod_metrics.Emeasure.__init__"><code class="docutils literal notranslate"><span class="pre">Emeasure.__init__()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#py_sod_metrics.sod_metrics.Emeasure.step"><code class="docutils literal notranslate"><span class="pre">Emeasure.step()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#py_sod_metrics.sod_metrics.Emeasure.cal_adaptive_em"><code class="docutils literal notranslate"><span class="pre">Emeasure.cal_adaptive_em()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#py_sod_metrics.sod_metrics.Emeasure.cal_changeable_em"><code class="docutils literal notranslate"><span class="pre">Emeasure.cal_changeable_em()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#py_sod_metrics.sod_metrics.Emeasure.cal_em_with_threshold"><code class="docutils literal notranslate"><span class="pre">Emeasure.cal_em_with_threshold()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#py_sod_metrics.sod_metrics.Emeasure.cal_em_with_cumsumhistogram"><code class="docutils literal notranslate"><span class="pre">Emeasure.cal_em_with_cumsumhistogram()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#py_sod_metrics.sod_metrics.Emeasure.generate_parts_numel_combinations"><code class="docutils literal notranslate"><span class="pre">Emeasure.generate_parts_numel_combinations()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#py_sod_metrics.sod_metrics.Emeasure.get_results"><code class="docutils literal notranslate"><span class="pre">Emeasure.get_results()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#py_sod_metrics.sod_metrics.WeightedFmeasure"><code class="docutils literal notranslate"><span class="pre">WeightedFmeasure</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#py_sod_metrics.sod_metrics.WeightedFmeasure.__init__"><code class="docutils literal notranslate"><span class="pre">WeightedFmeasure.__init__()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#py_sod_metrics.sod_metrics.WeightedFmeasure.step"><code class="docutils literal notranslate"><span class="pre">WeightedFmeasure.step()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#py_sod_metrics.sod_metrics.WeightedFmeasure.cal_wfm"><code class="docutils literal notranslate"><span class="pre">WeightedFmeasure.cal_wfm()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#py_sod_metrics.sod_metrics.WeightedFmeasure.matlab_style_gauss2D"><code class="docutils literal notranslate"><span class="pre">WeightedFmeasure.matlab_style_gauss2D()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#py_sod_metrics.sod_metrics.WeightedFmeasure.get_results"><code class="docutils literal notranslate"><span class="pre">WeightedFmeasure.get_results()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#py_sod_metrics.sod_metrics.HumanCorrectionEffortMeasure"><code class="docutils literal notranslate"><span class="pre">HumanCorrectionEffortMeasure</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#py_sod_metrics.sod_metrics.HumanCorrectionEffortMeasure.__init__"><code class="docutils literal notranslate"><span class="pre">HumanCorrectionEffortMeasure.__init__()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#py_sod_metrics.sod_metrics.HumanCorrectionEffortMeasure.step"><code class="docutils literal notranslate"><span class="pre">HumanCorrectionEffortMeasure.step()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#py_sod_metrics.sod_metrics.HumanCorrectionEffortMeasure.cal_hce"><code class="docutils literal notranslate"><span class="pre">HumanCorrectionEffortMeasure.cal_hce()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#py_sod_metrics.sod_metrics.HumanCorrectionEffortMeasure.filter_conditional_boundary"><code class="docutils literal notranslate"><span class="pre">HumanCorrectionEffortMeasure.filter_conditional_boundary()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#py_sod_metrics.sod_metrics.HumanCorrectionEffortMeasure.count_polygon_control_points"><code class="docutils literal notranslate"><span class="pre">HumanCorrectionEffortMeasure.count_polygon_control_points()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#py_sod_metrics.sod_metrics.HumanCorrectionEffortMeasure.get_results"><code class="docutils literal notranslate"><span class="pre">HumanCorrectionEffortMeasure.get_results()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#module-py_sod_metrics.fmeasurev2">FmeasureV2 Module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#py_sod_metrics.fmeasurev2.IOUHandler"><code class="docutils literal notranslate"><span class="pre">IOUHandler</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#py_sod_metrics.fmeasurev2.IOUHandler.__call__"><code class="docutils literal notranslate"><span class="pre">IOUHandler.__call__()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#py_sod_metrics.fmeasurev2.SpecificityHandler"><code class="docutils literal notranslate"><span class="pre">SpecificityHandler</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#py_sod_metrics.fmeasurev2.SpecificityHandler.__call__"><code class="docutils literal notranslate"><span class="pre">SpecificityHandler.__call__()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#py_sod_metrics.fmeasurev2.TNRHandler"><code class="docutils literal notranslate"><span class="pre">TNRHandler</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#py_sod_metrics.fmeasurev2.DICEHandler"><code class="docutils literal notranslate"><span class="pre">DICEHandler</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#py_sod_metrics.fmeasurev2.DICEHandler.__call__"><code class="docutils literal notranslate"><span class="pre">DICEHandler.__call__()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#py_sod_metrics.fmeasurev2.OverallAccuracyHandler"><code class="docutils literal notranslate"><span class="pre">OverallAccuracyHandler</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#py_sod_metrics.fmeasurev2.OverallAccuracyHandler.__call__"><code class="docutils literal notranslate"><span class="pre">OverallAccuracyHandler.__call__()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#py_sod_metrics.fmeasurev2.KappaHandler"><code class="docutils literal notranslate"><span class="pre">KappaHandler</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#py_sod_metrics.fmeasurev2.KappaHandler.__init__"><code class="docutils literal notranslate"><span class="pre">KappaHandler.__init__()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#py_sod_metrics.fmeasurev2.KappaHandler.__call__"><code class="docutils literal notranslate"><span class="pre">KappaHandler.__call__()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#py_sod_metrics.fmeasurev2.PrecisionHandler"><code class="docutils literal notranslate"><span class="pre">PrecisionHandler</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#py_sod_metrics.fmeasurev2.PrecisionHandler.__call__"><code class="docutils literal notranslate"><span class="pre">PrecisionHandler.__call__()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#py_sod_metrics.fmeasurev2.RecallHandler"><code class="docutils literal notranslate"><span class="pre">RecallHandler</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#py_sod_metrics.fmeasurev2.RecallHandler.__call__"><code class="docutils literal notranslate"><span class="pre">RecallHandler.__call__()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#py_sod_metrics.fmeasurev2.TPRHandler"><code class="docutils literal notranslate"><span class="pre">TPRHandler</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#py_sod_metrics.fmeasurev2.SensitivityHandler"><code class="docutils literal notranslate"><span class="pre">SensitivityHandler</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#py_sod_metrics.fmeasurev2.FPRHandler"><code class="docutils literal notranslate"><span class="pre">FPRHandler</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#py_sod_metrics.fmeasurev2.FPRHandler.__call__"><code class="docutils literal notranslate"><span class="pre">FPRHandler.__call__()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#py_sod_metrics.fmeasurev2.BERHandler"><code class="docutils literal notranslate"><span class="pre">BERHandler</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#py_sod_metrics.fmeasurev2.BERHandler.__call__"><code class="docutils literal notranslate"><span class="pre">BERHandler.__call__()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#py_sod_metrics.fmeasurev2.FmeasureHandler"><code class="docutils literal notranslate"><span class="pre">FmeasureHandler</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#py_sod_metrics.fmeasurev2.FmeasureHandler.__init__"><code class="docutils literal notranslate"><span class="pre">FmeasureHandler.__init__()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#py_sod_metrics.fmeasurev2.FmeasureHandler.__call__"><code class="docutils literal notranslate"><span class="pre">FmeasureHandler.__call__()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#py_sod_metrics.fmeasurev2.FmeasureV2"><code class="docutils literal notranslate"><span class="pre">FmeasureV2</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#py_sod_metrics.fmeasurev2.FmeasureV2.__init__"><code class="docutils literal notranslate"><span class="pre">FmeasureV2.__init__()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#py_sod_metrics.fmeasurev2.FmeasureV2.add_handler"><code class="docutils literal notranslate"><span class="pre">FmeasureV2.add_handler()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#py_sod_metrics.fmeasurev2.FmeasureV2.get_statistics"><code class="docutils literal notranslate"><span class="pre">FmeasureV2.get_statistics()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#py_sod_metrics.fmeasurev2.FmeasureV2.adaptively_binarizing"><code class="docutils literal notranslate"><span class="pre">FmeasureV2.adaptively_binarizing()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#py_sod_metrics.fmeasurev2.FmeasureV2.dynamically_binarizing"><code class="docutils literal notranslate"><span class="pre">FmeasureV2.dynamically_binarizing()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#py_sod_metrics.fmeasurev2.FmeasureV2.step"><code class="docutils literal notranslate"><span class="pre">FmeasureV2.step()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#py_sod_metrics.fmeasurev2.FmeasureV2.get_results"><code class="docutils literal notranslate"><span class="pre">FmeasureV2.get_results()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#module-py_sod_metrics.context_measure">Context Measure Module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#py_sod_metrics.context_measure.ContextMeasure"><code class="docutils literal notranslate"><span class="pre">ContextMeasure</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#py_sod_metrics.context_measure.ContextMeasure.__init__"><code class="docutils literal notranslate"><span class="pre">ContextMeasure.__init__()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#py_sod_metrics.context_measure.ContextMeasure.step"><code class="docutils literal notranslate"><span class="pre">ContextMeasure.step()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#py_sod_metrics.context_measure.ContextMeasure.compute"><code class="docutils literal notranslate"><span class="pre">ContextMeasure.compute()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#py_sod_metrics.context_measure.ContextMeasure.get_results"><code class="docutils literal notranslate"><span class="pre">ContextMeasure.get_results()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#py_sod_metrics.context_measure.CamouflageContextMeasure"><code class="docutils literal notranslate"><span class="pre">CamouflageContextMeasure</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#py_sod_metrics.context_measure.CamouflageContextMeasure.__init__"><code class="docutils literal notranslate"><span class="pre">CamouflageContextMeasure.__init__()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#py_sod_metrics.context_measure.CamouflageContextMeasure.step"><code class="docutils literal notranslate"><span class="pre">CamouflageContextMeasure.step()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#py_sod_metrics.context_measure.CamouflageContextMeasure.get_results"><code class="docutils literal notranslate"><span class="pre">CamouflageContextMeasure.get_results()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#module-py_sod_metrics.multiscale_iou">Multi-Scale IoU Module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#py_sod_metrics.multiscale_iou.MSIoU"><code class="docutils literal notranslate"><span class="pre">MSIoU</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#py_sod_metrics.multiscale_iou.MSIoU.__init__"><code class="docutils literal notranslate"><span class="pre">MSIoU.__init__()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#py_sod_metrics.multiscale_iou.MSIoU.get_edge"><code class="docutils literal notranslate"><span class="pre">MSIoU.get_edge()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#py_sod_metrics.multiscale_iou.MSIoU.shrink_by_grid"><code class="docutils literal notranslate"><span class="pre">MSIoU.shrink_by_grid()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#py_sod_metrics.multiscale_iou.MSIoU.multi_scale_iou"><code class="docutils literal notranslate"><span class="pre">MSIoU.multi_scale_iou()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#py_sod_metrics.multiscale_iou.MSIoU.binarizing"><code class="docutils literal notranslate"><span class="pre">MSIoU.binarizing()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#py_sod_metrics.multiscale_iou.MSIoU.step"><code class="docutils literal notranslate"><span class="pre">MSIoU.step()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#py_sod_metrics.multiscale_iou.MSIoU.get_results"><code class="docutils literal notranslate"><span class="pre">MSIoU.get_results()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#module-py_sod_metrics.size_invariance">Size Invariance Module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#py_sod_metrics.size_invariance.parse_connected_components"><code class="docutils literal notranslate"><span class="pre">parse_connected_components()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#py_sod_metrics.size_invariance.encode_bboxwise_tgts_bitwise"><code class="docutils literal notranslate"><span class="pre">encode_bboxwise_tgts_bitwise()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#py_sod_metrics.size_invariance.get_kth_bit"><code class="docutils literal notranslate"><span class="pre">get_kth_bit()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#py_sod_metrics.size_invariance.SizeInvarianceFmeasureV2"><code class="docutils literal notranslate"><span class="pre">SizeInvarianceFmeasureV2</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#py_sod_metrics.size_invariance.SizeInvarianceFmeasureV2.step"><code class="docutils literal notranslate"><span class="pre">SizeInvarianceFmeasureV2.step()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#py_sod_metrics.size_invariance.SizeInvarianceFmeasureV2.get_results"><code class="docutils literal notranslate"><span class="pre">SizeInvarianceFmeasureV2.get_results()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#py_sod_metrics.size_invariance.SizeInvarianceMAE"><code class="docutils literal notranslate"><span class="pre">SizeInvarianceMAE</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#py_sod_metrics.size_invariance.SizeInvarianceMAE.step"><code class="docutils literal notranslate"><span class="pre">SizeInvarianceMAE.step()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#py_sod_metrics.size_invariance.SizeInvarianceMAE.get_results"><code class="docutils literal notranslate"><span class="pre">SizeInvarianceMAE.get_results()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#module-py_sod_metrics.utils">Utility Functions</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#py_sod_metrics.utils.validate_and_normalize_input"><code class="docutils literal notranslate"><span class="pre">validate_and_normalize_input()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#py_sod_metrics.utils.prepare_data"><code class="docutils literal notranslate"><span class="pre">prepare_data()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#py_sod_metrics.utils.get_adaptive_threshold"><code class="docutils literal notranslate"><span class="pre">get_adaptive_threshold()</span></code></a></li>
</ul>
</li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">PySODMetrics</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">API Reference</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/api.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="api-reference">
<h1>API Reference<a class="headerlink" href="#api-reference" title="Link to this heading"></a></h1>
<p>This page provides the complete API documentation for PySODMetrics.</p>
<nav class="contents local" id="contents">
<p class="topic-title">Contents</p>
<ul class="simple">
<li><p><a class="reference internal" href="#module-py_sod_metrics.sod_metrics" id="id34">Core Metrics Module</a></p></li>
<li><p><a class="reference internal" href="#module-py_sod_metrics.fmeasurev2" id="id35">FmeasureV2 Module</a></p></li>
<li><p><a class="reference internal" href="#module-py_sod_metrics.context_measure" id="id36">Context Measure Module</a></p></li>
<li><p><a class="reference internal" href="#module-py_sod_metrics.multiscale_iou" id="id37">Multi-Scale IoU Module</a></p></li>
<li><p><a class="reference internal" href="#module-py_sod_metrics.size_invariance" id="id38">Size Invariance Module</a></p></li>
<li><p><a class="reference internal" href="#module-py_sod_metrics.utils" id="id39">Utility Functions</a></p></li>
</ul>
</nav>
<section id="module-py_sod_metrics.sod_metrics">
<span id="core-metrics-module"></span><h2><a class="toc-backref" href="#id34" role="doc-backlink">Core Metrics Module</a><a class="headerlink" href="#module-py_sod_metrics.sod_metrics" title="Link to this heading"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="py_sod_metrics.sod_metrics.Fmeasure">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">py_sod_metrics.sod_metrics.</span></span><span class="sig-name descname"><span class="pre">Fmeasure</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">beta</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><span class="pre">float</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.3</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/py_sod_metrics/sod_metrics.html#Fmeasure"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#py_sod_metrics.sod_metrics.Fmeasure" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.14)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>F-measure evaluator for salient object detection.</p>
<p>Computes precision, recall, and F-measure at multiple thresholds, supporting both adaptive and dynamic evaluation modes.</p>
<p><a href="#id1"><span class="problematic" id="id2">``</span></a>`
&#64;inproceedings{Fmeasure,</p>
<blockquote>
<div><p>title={Frequency-tuned salient region detection},
author={Achanta, Radhakrishna and Hemami, Sheila and Estrada, Francisco and S{&quot;u}sstrunk, Sabine},
booktitle=CVPR,
number={CONF},
pages={1597–1604},
year={2009}</p>
</div></blockquote>
<section id="id3">
<h3>}<a class="headerlink" href="#id3" title="Link to this heading"></a></h3>
<dl class="py method">
<dt class="sig sig-object py" id="py_sod_metrics.sod_metrics.Fmeasure.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">beta</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><span class="pre">float</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.3</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/py_sod_metrics/sod_metrics.html#Fmeasure.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#py_sod_metrics.sod_metrics.Fmeasure.__init__" title="Link to this definition"></a></dt>
<dd><p>Initialize the F-measure evaluator.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>beta</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a>) – the weight of the precision</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="py_sod_metrics.sod_metrics.Fmeasure.step">
<span class="sig-name descname"><span class="pre">step</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pred</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v2.4)"><span class="pre">ndarray</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">gt</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v2.4)"><span class="pre">ndarray</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">normalize</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/py_sod_metrics/sod_metrics.html#Fmeasure.step"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#py_sod_metrics.sod_metrics.Fmeasure.step" title="Link to this definition"></a></dt>
<dd><p>Statistics the metric for the pair of pred and gt.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pred</strong> (<em>np.ndarray</em>) – Prediction, gray scale image.</p></li>
<li><p><strong>gt</strong> (<em>np.ndarray</em>) – Ground truth, gray scale image.</p></li>
<li><p><strong>normalize</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><em>bool</em></a><em>, </em><em>optional</em>) – Whether to normalize the input data. Defaults to True.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="py_sod_metrics.sod_metrics.Fmeasure.cal_adaptive_fm">
<span class="sig-name descname"><span class="pre">cal_adaptive_fm</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pred</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v2.4)"><span class="pre">ndarray</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">gt</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v2.4)"><span class="pre">ndarray</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><span class="pre">float</span></a></span></span><a class="reference internal" href="_modules/py_sod_metrics/sod_metrics.html#Fmeasure.cal_adaptive_fm"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#py_sod_metrics.sod_metrics.Fmeasure.cal_adaptive_fm" title="Link to this definition"></a></dt>
<dd><p>Calculate the adaptive F-measure.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>adaptive_fm</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)">float</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="py_sod_metrics.sod_metrics.Fmeasure.cal_pr">
<span class="sig-name descname"><span class="pre">cal_pr</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pred</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v2.4)"><span class="pre">ndarray</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">gt</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v2.4)"><span class="pre">ndarray</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.14)"><span class="pre">tuple</span></a></span></span><a class="reference internal" href="_modules/py_sod_metrics/sod_metrics.html#Fmeasure.cal_pr"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#py_sod_metrics.sod_metrics.Fmeasure.cal_pr" title="Link to this definition"></a></dt>
<dd><p>Calculate the corresponding precision and recall when the threshold changes from 0 to 255.</p>
<p>These precisions and recalls can be used to obtain the mean F-measure, maximum F-measure,
precision-recall curve and F-measure-threshold curve.</p>
<p>For convenience, <cite>changeable_fms</cite> is provided here, which can be used directly to obtain
the mean F-measure, maximum F-measure and F-measure-threshold curve.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>(precisions, recalls, changeable_fms)</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.14)">tuple</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="py_sod_metrics.sod_metrics.Fmeasure.get_results">
<span class="sig-name descname"><span class="pre">get_results</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.14)"><span class="pre">dict</span></a></span></span><a class="reference internal" href="_modules/py_sod_metrics/sod_metrics.html#Fmeasure.get_results"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#py_sod_metrics.sod_metrics.Fmeasure.get_results" title="Link to this definition"></a></dt>
<dd><p>Return the results about F-measure.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict(fm=dict(adp=adaptive_fm, curve=changeable_fm), pr=dict(p=precision, r=recall))</p>
</dd>
</dl>
</dd></dl>

</section>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="py_sod_metrics.sod_metrics.MAE">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">py_sod_metrics.sod_metrics.</span></span><span class="sig-name descname"><span class="pre">MAE</span></span><a class="reference internal" href="_modules/py_sod_metrics/sod_metrics.html#MAE"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#py_sod_metrics.sod_metrics.MAE" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.14)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Mean Absolute Error.</p>
<p>Computes the MAE between predicted saliency maps and ground truth masks.</p>
<p><a href="#id4"><span class="problematic" id="id5">``</span></a>`
&#64;inproceedings{MAE,</p>
<blockquote>
<div><p>title={Saliency filters: Contrast based filtering for salient region detection},
author={Perazzi, Federico and Kr{&quot;a}henb{&quot;u}hl, Philipp and Pritch, Yael and Hornung, Alexander},
booktitle=CVPR,
pages={733–740},
year={2012}</p>
</div></blockquote>
<section id="id6">
<h3>}<a class="headerlink" href="#id6" title="Link to this heading"></a></h3>
<dl class="py method">
<dt class="sig sig-object py" id="py_sod_metrics.sod_metrics.MAE.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/py_sod_metrics/sod_metrics.html#MAE.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#py_sod_metrics.sod_metrics.MAE.__init__" title="Link to this definition"></a></dt>
<dd><p>Initialize the MAE evaluator.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="py_sod_metrics.sod_metrics.MAE.step">
<span class="sig-name descname"><span class="pre">step</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pred</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v2.4)"><span class="pre">ndarray</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">gt</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v2.4)"><span class="pre">ndarray</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">normalize</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/py_sod_metrics/sod_metrics.html#MAE.step"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#py_sod_metrics.sod_metrics.MAE.step" title="Link to this definition"></a></dt>
<dd><p>Statistics the metric for the pair of pred and gt.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pred</strong> (<em>np.ndarray</em>) – Prediction, gray scale image.</p></li>
<li><p><strong>gt</strong> (<em>np.ndarray</em>) – Ground truth, gray scale image.</p></li>
<li><p><strong>normalize</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><em>bool</em></a><em>, </em><em>optional</em>) – Whether to normalize the input data. Defaults to True.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="py_sod_metrics.sod_metrics.MAE.cal_mae">
<span class="sig-name descname"><span class="pre">cal_mae</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pred</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v2.4)"><span class="pre">ndarray</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">gt</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v2.4)"><span class="pre">ndarray</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v2.4)"><span class="pre">ndarray</span></a></span></span><a class="reference internal" href="_modules/py_sod_metrics/sod_metrics.html#MAE.cal_mae"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#py_sod_metrics.sod_metrics.MAE.cal_mae" title="Link to this definition"></a></dt>
<dd><p>Calculate the mean absolute error.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>mae</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>np.ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="py_sod_metrics.sod_metrics.MAE.get_results">
<span class="sig-name descname"><span class="pre">get_results</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.14)"><span class="pre">dict</span></a></span></span><a class="reference internal" href="_modules/py_sod_metrics/sod_metrics.html#MAE.get_results"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#py_sod_metrics.sod_metrics.MAE.get_results" title="Link to this definition"></a></dt>
<dd><p>Return the results about MAE.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict(mae=mae)</p>
</dd>
</dl>
</dd></dl>

</section>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="py_sod_metrics.sod_metrics.Smeasure">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">py_sod_metrics.sod_metrics.</span></span><span class="sig-name descname"><span class="pre">Smeasure</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">alpha</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><span class="pre">float</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.5</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/py_sod_metrics/sod_metrics.html#Smeasure"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#py_sod_metrics.sod_metrics.Smeasure" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#py_sod_metrics.sod_metrics.Smeasure.object" title="py_sod_metrics.sod_metrics.Smeasure.object"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>S-measure evaluates foreground maps by considering both object-aware and region-aware structural similarity between prediction and ground truth. It combines object-level and region-level scores to provide a comprehensive assessment of structural quality.</p>
<p><a href="#id7"><span class="problematic" id="id8">``</span></a>`
&#64;inproceedings{Smeasure,</p>
<blockquote>
<div><p>title={Structure-measure: A new way to eval foreground maps},
author={Fan, Deng-Ping and Cheng, Ming-Ming and Liu, Yun and Li, Tao and Borji, Ali},
booktitle=ICCV,
pages={4548–4557},
year={2017}</p>
</div></blockquote>
<section id="id9">
<h3>}<a class="headerlink" href="#id9" title="Link to this heading"></a></h3>
<dl class="py method">
<dt class="sig sig-object py" id="py_sod_metrics.sod_metrics.Smeasure.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">alpha</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><span class="pre">float</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.5</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/py_sod_metrics/sod_metrics.html#Smeasure.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#py_sod_metrics.sod_metrics.Smeasure.__init__" title="Link to this definition"></a></dt>
<dd><p>Initialize S-measure (Structure-measure) evaluator.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>alpha</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a><em>, </em><em>optional</em>) – Weight for balancing the object score and the region score. Higher values give more weight to object-level similarity. Valid range: [0, 1]. Defaults to 0.5 for equal weighting.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="py_sod_metrics.sod_metrics.Smeasure.step">
<span class="sig-name descname"><span class="pre">step</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pred</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v2.4)"><span class="pre">ndarray</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">gt</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v2.4)"><span class="pre">ndarray</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">normalize</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/py_sod_metrics/sod_metrics.html#Smeasure.step"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#py_sod_metrics.sod_metrics.Smeasure.step" title="Link to this definition"></a></dt>
<dd><p>Statistics the metric for the pair of pred and gt.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pred</strong> (<em>np.ndarray</em>) – Prediction, gray scale image.</p></li>
<li><p><strong>gt</strong> (<em>np.ndarray</em>) – Ground truth, gray scale image.</p></li>
<li><p><strong>normalize</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><em>bool</em></a><em>, </em><em>optional</em>) – Whether to normalize the input data. Defaults to True.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="py_sod_metrics.sod_metrics.Smeasure.cal_sm">
<span class="sig-name descname"><span class="pre">cal_sm</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pred</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v2.4)"><span class="pre">ndarray</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">gt</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v2.4)"><span class="pre">ndarray</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><span class="pre">float</span></a></span></span><a class="reference internal" href="_modules/py_sod_metrics/sod_metrics.html#Smeasure.cal_sm"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#py_sod_metrics.sod_metrics.Smeasure.cal_sm" title="Link to this definition"></a></dt>
<dd><p>Calculate the S-measure (Structure-measure) score.</p>
<p>Computes a weighted combination of object-aware and region-aware structural similarity scores. For edge cases (all foreground or all background), returns simplified metrics.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pred</strong> (<em>np.ndarray</em>) – Normalized prediction map with values in [0, 1].</p></li>
<li><p><strong>gt</strong> (<em>np.ndarray</em>) – Binary ground truth mask.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>S-measure score in range [0, 1], where higher is better.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)">float</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="py_sod_metrics.sod_metrics.Smeasure.s_object">
<span class="sig-name descname"><span class="pre">s_object</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v2.4)"><span class="pre">ndarray</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><span class="pre">float</span></a></span></span><a class="reference internal" href="_modules/py_sod_metrics/sod_metrics.html#Smeasure.s_object"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#py_sod_metrics.sod_metrics.Smeasure.s_object" title="Link to this definition"></a></dt>
<dd><p>Calculate object-aware score for a region.</p>
<p>Computes a similarity score that considers both mean and standard deviation of the input region.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>x</strong> (<em>np.ndarray</em>) – Input region data.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Object-aware similarity score.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)">float</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="py_sod_metrics.sod_metrics.Smeasure.object">
<span class="sig-name descname"><span class="pre">object</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pred</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v2.4)"><span class="pre">ndarray</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">gt</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v2.4)"><span class="pre">ndarray</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><span class="pre">float</span></a></span></span><a class="reference internal" href="_modules/py_sod_metrics/sod_metrics.html#Smeasure.object"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#py_sod_metrics.sod_metrics.Smeasure.object" title="Link to this definition"></a></dt>
<dd><p>Calculate the object-level structural similarity score.</p>
<p>Evaluates structural similarity separately for foreground and background regions, then combines them using the ratio of foreground pixels.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pred</strong> (<em>np.ndarray</em>) – Normalized prediction map with values in [0, 1].</p></li>
<li><p><strong>gt</strong> (<em>np.ndarray</em>) – Binary ground truth mask.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Object-level similarity score.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)">float</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="py_sod_metrics.sod_metrics.Smeasure.region">
<span class="sig-name descname"><span class="pre">region</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pred</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v2.4)"><span class="pre">ndarray</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">gt</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v2.4)"><span class="pre">ndarray</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><span class="pre">float</span></a></span></span><a class="reference internal" href="_modules/py_sod_metrics/sod_metrics.html#Smeasure.region"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#py_sod_metrics.sod_metrics.Smeasure.region" title="Link to this definition"></a></dt>
<dd><p>Calculate the region-level structural similarity score.</p>
<p>Divides the image into four quadrants based on the foreground centroid, then calculates SSIM for each quadrant weighted by its area.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pred</strong> (<em>np.ndarray</em>) – Normalized prediction map with values in [0, 1].</p></li>
<li><p><strong>gt</strong> (<em>np.ndarray</em>) – Binary ground truth mask.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Region-level similarity score.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)">float</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="py_sod_metrics.sod_metrics.Smeasure.ssim">
<span class="sig-name descname"><span class="pre">ssim</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pred</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v2.4)"><span class="pre">ndarray</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">gt</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v2.4)"><span class="pre">ndarray</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><span class="pre">float</span></a></span></span><a class="reference internal" href="_modules/py_sod_metrics/sod_metrics.html#Smeasure.ssim"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#py_sod_metrics.sod_metrics.Smeasure.ssim" title="Link to this definition"></a></dt>
<dd><p>Calculate the SSIM (Structural Similarity Index) score.</p>
<p>Computes structural similarity based on luminance, contrast, and structure comparisons between prediction and ground truth regions.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pred</strong> (<em>np.ndarray</em>) – Prediction region.</p></li>
<li><p><strong>gt</strong> (<em>np.ndarray</em>) – Ground truth region.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>SSIM score in range [0, 1].</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)">float</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="py_sod_metrics.sod_metrics.Smeasure.get_results">
<span class="sig-name descname"><span class="pre">get_results</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.14)"><span class="pre">dict</span></a></span></span><a class="reference internal" href="_modules/py_sod_metrics/sod_metrics.html#Smeasure.get_results"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#py_sod_metrics.sod_metrics.Smeasure.get_results" title="Link to this definition"></a></dt>
<dd><p>Return the results about S-measure.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict(sm=sm)</p>
</dd>
</dl>
</dd></dl>

</section>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="py_sod_metrics.sod_metrics.Emeasure">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">py_sod_metrics.sod_metrics.</span></span><span class="sig-name descname"><span class="pre">Emeasure</span></span><a class="reference internal" href="_modules/py_sod_metrics/sod_metrics.html#Emeasure"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#py_sod_metrics.sod_metrics.Emeasure" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.14)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>E-measure assesses binary foreground map quality by measuring the alignment between prediction and ground truth using an enhanced alignment matrix. It addresses limitations of traditional metrics by considering spatial alignment and local/global pixel matching.</p>
<p><a href="#id10"><span class="problematic" id="id11">``</span></a>`
&#64;inproceedings{Emeasure,</p>
<blockquote>
<div><p>title=”Enhanced-alignment Measure for Binary Foreground Map Evaluation”,
author=”Deng-Ping {Fan} and Cheng {Gong} and Yang {Cao} and Bo {Ren} and Ming-Ming {Cheng} and Ali {Borji}”,
booktitle=IJCAI,
pages=”698–704”,
year={2018}</p>
</div></blockquote>
<section id="id12">
<h3>}<a class="headerlink" href="#id12" title="Link to this heading"></a></h3>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>More implementation details: <a class="reference external" href="https://www.yuque.com/lart/blog/lwgt38">https://www.yuque.com/lart/blog/lwgt38</a></p>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="py_sod_metrics.sod_metrics.Emeasure.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/py_sod_metrics/sod_metrics.html#Emeasure.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#py_sod_metrics.sod_metrics.Emeasure.__init__" title="Link to this definition"></a></dt>
<dd><p>Initialize E-measure (Enhanced-alignment Measure) evaluator.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="py_sod_metrics.sod_metrics.Emeasure.step">
<span class="sig-name descname"><span class="pre">step</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pred</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v2.4)"><span class="pre">ndarray</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">gt</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v2.4)"><span class="pre">ndarray</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">normalize</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/py_sod_metrics/sod_metrics.html#Emeasure.step"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#py_sod_metrics.sod_metrics.Emeasure.step" title="Link to this definition"></a></dt>
<dd><p>Statistics the metric for the pair of pred and gt.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pred</strong> (<em>np.ndarray</em>) – Prediction, gray scale image.</p></li>
<li><p><strong>gt</strong> (<em>np.ndarray</em>) – Ground truth, gray scale image.</p></li>
<li><p><strong>normalize</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><em>bool</em></a><em>, </em><em>optional</em>) – Whether to normalize the input data. Defaults to True.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="py_sod_metrics.sod_metrics.Emeasure.cal_adaptive_em">
<span class="sig-name descname"><span class="pre">cal_adaptive_em</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pred</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v2.4)"><span class="pre">ndarray</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">gt</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v2.4)"><span class="pre">ndarray</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><span class="pre">float</span></a></span></span><a class="reference internal" href="_modules/py_sod_metrics/sod_metrics.html#Emeasure.cal_adaptive_em"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#py_sod_metrics.sod_metrics.Emeasure.cal_adaptive_em" title="Link to this definition"></a></dt>
<dd><p>Calculate the adaptive E-measure using an adaptive threshold.</p>
<p>Uses twice the mean prediction value as the adaptive threshold to binarize the prediction before computing E-measure.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pred</strong> (<em>np.ndarray</em>) – Normalized prediction map with values in [0, 1].</p></li>
<li><p><strong>gt</strong> (<em>np.ndarray</em>) – Binary ground truth mask.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Adaptive E-measure score.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)">float</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="py_sod_metrics.sod_metrics.Emeasure.cal_changeable_em">
<span class="sig-name descname"><span class="pre">cal_changeable_em</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pred</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v2.4)"><span class="pre">ndarray</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">gt</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v2.4)"><span class="pre">ndarray</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v2.4)"><span class="pre">ndarray</span></a></span></span><a class="reference internal" href="_modules/py_sod_metrics/sod_metrics.html#Emeasure.cal_changeable_em"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#py_sod_metrics.sod_metrics.Emeasure.cal_changeable_em" title="Link to this definition"></a></dt>
<dd><p>Calculate E-measure scores across all thresholds from 0 to 255.</p>
<p>Computes the E-measure for 257 different thresholds, enabling analysis of maximum E-measure, mean E-measure, and E-measure-threshold curves.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pred</strong> (<em>np.ndarray</em>) – Normalized prediction map with values in [0, 1].</p></li>
<li><p><strong>gt</strong> (<em>np.ndarray</em>) – Binary ground truth mask.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Array of 257 E-measure scores corresponding to thresholds [0, 255].</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>np.ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="py_sod_metrics.sod_metrics.Emeasure.cal_em_with_threshold">
<span class="sig-name descname"><span class="pre">cal_em_with_threshold</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pred</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v2.4)"><span class="pre">ndarray</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">gt</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v2.4)"><span class="pre">ndarray</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">threshold</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><span class="pre">float</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><span class="pre">float</span></a></span></span><a class="reference internal" href="_modules/py_sod_metrics/sod_metrics.html#Emeasure.cal_em_with_threshold"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#py_sod_metrics.sod_metrics.Emeasure.cal_em_with_threshold" title="Link to this definition"></a></dt>
<dd><p>Calculate the E-measure for a specific binarization threshold.</p>
<p>Computes enhanced alignment based on four regions: true positives, false positives, false negatives, and true negatives.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pred</strong> (<em>np.ndarray</em>) – Normalized prediction map with values in [0, 1].</p></li>
<li><p><strong>gt</strong> (<em>np.ndarray</em>) – Binary ground truth mask.</p></li>
<li><p><strong>threshold</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a>) – Binarization threshold value.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>E-measure score for the given threshold.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)">float</a></p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Variable naming convention:
<cite>[pred_attr(fg/bg)]_[gt_attr(fg/bg)]_[meaning]</cite>
‘_’ indicates don’t-care attribute.</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="py_sod_metrics.sod_metrics.Emeasure.cal_em_with_cumsumhistogram">
<span class="sig-name descname"><span class="pre">cal_em_with_cumsumhistogram</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pred</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v2.4)"><span class="pre">ndarray</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">gt</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v2.4)"><span class="pre">ndarray</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v2.4)"><span class="pre">ndarray</span></a></span></span><a class="reference internal" href="_modules/py_sod_metrics/sod_metrics.html#Emeasure.cal_em_with_cumsumhistogram"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#py_sod_metrics.sod_metrics.Emeasure.cal_em_with_cumsumhistogram" title="Link to this definition"></a></dt>
<dd><p>Calculate the E-measure corresponding to the threshold that varies from 0 to 255..</p>
<p>Variable naming rules within the function:
<cite>[pred attribute(foreground fg, background bg)]_[gt attribute(foreground fg, background bg)]_[meaning]</cite></p>
<p>If only <cite>pred</cite> or <cite>gt</cite> is considered, another corresponding attribute location is replaced with ‘<cite>_</cite>’.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="py_sod_metrics.sod_metrics.Emeasure.generate_parts_numel_combinations">
<span class="sig-name descname"><span class="pre">generate_parts_numel_combinations</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fg_fg_numel</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fg_bg_numel</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pred_fg_numel</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pred_bg_numel</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/py_sod_metrics/sod_metrics.html#Emeasure.generate_parts_numel_combinations"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#py_sod_metrics.sod_metrics.Emeasure.generate_parts_numel_combinations" title="Link to this definition"></a></dt>
<dd><p>Generate the number of elements in each part of the image.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fg_fg_numel</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><em>int</em></a>) – Number of foreground pixels in the foreground region.</p></li>
<li><p><strong>fg_bg_numel</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><em>int</em></a>) – Number of foreground pixels in the background region.</p></li>
<li><p><strong>pred_fg_numel</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><em>int</em></a>) – Number of foreground pixels in the predicted region.</p></li>
<li><p><strong>pred_bg_numel</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><em>int</em></a>) – Number of background pixels in the predicted region.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A tuple containing the number of elements in each part of the image.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.14)">tuple</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="py_sod_metrics.sod_metrics.Emeasure.get_results">
<span class="sig-name descname"><span class="pre">get_results</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.14)"><span class="pre">dict</span></a></span></span><a class="reference internal" href="_modules/py_sod_metrics/sod_metrics.html#Emeasure.get_results"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#py_sod_metrics.sod_metrics.Emeasure.get_results" title="Link to this definition"></a></dt>
<dd><p>Return the results about E-measure.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict(em=dict(adp=adaptive_em, curve=changeable_em))</p>
</dd>
</dl>
</dd></dl>

</section>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="py_sod_metrics.sod_metrics.WeightedFmeasure">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">py_sod_metrics.sod_metrics.</span></span><span class="sig-name descname"><span class="pre">WeightedFmeasure</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">beta</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><span class="pre">float</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/py_sod_metrics/sod_metrics.html#WeightedFmeasure"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#py_sod_metrics.sod_metrics.WeightedFmeasure" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.14)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Weighted F-measure considers both pixel dependency and pixel importance when evaluating foreground maps. It weights different pixels according to their distance from the foreground boundary to provide a more perceptually meaningful assessment than standard F-measure.</p>
<p><a href="#id13"><span class="problematic" id="id14">``</span></a>`
&#64;inproceedings{wFmeasure,</p>
<blockquote>
<div><p>title={How to eval foreground maps?},
author={Margolin, Ran and Zelnik-Manor, Lihi and Tal, Ayellet},
booktitle=CVPR,
pages={248–255},
year={2014}</p>
</div></blockquote>
<section id="id15">
<h3>}<a class="headerlink" href="#id15" title="Link to this heading"></a></h3>
<dl class="py method">
<dt class="sig sig-object py" id="py_sod_metrics.sod_metrics.WeightedFmeasure.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">beta</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><span class="pre">float</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/py_sod_metrics/sod_metrics.html#WeightedFmeasure.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#py_sod_metrics.sod_metrics.WeightedFmeasure.__init__" title="Link to this definition"></a></dt>
<dd><p>Initialize Weighted F-measure evaluator.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>beta</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a><em>, </em><em>optional</em>) – Weight for balancing precision and recall.
Defaults to 1 for equal weighting (F1-score).</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="py_sod_metrics.sod_metrics.WeightedFmeasure.step">
<span class="sig-name descname"><span class="pre">step</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pred</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v2.4)"><span class="pre">ndarray</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">gt</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v2.4)"><span class="pre">ndarray</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">normalize</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/py_sod_metrics/sod_metrics.html#WeightedFmeasure.step"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#py_sod_metrics.sod_metrics.WeightedFmeasure.step" title="Link to this definition"></a></dt>
<dd><p>Statistics the metric for the pair of pred and gt.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pred</strong> (<em>np.ndarray</em>) – Prediction, gray scale image.</p></li>
<li><p><strong>gt</strong> (<em>np.ndarray</em>) – Ground truth, gray scale image.</p></li>
<li><p><strong>normalize</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><em>bool</em></a><em>, </em><em>optional</em>) – Whether to normalize the input data. Defaults to True.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="py_sod_metrics.sod_metrics.WeightedFmeasure.cal_wfm">
<span class="sig-name descname"><span class="pre">cal_wfm</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pred</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v2.4)"><span class="pre">ndarray</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">gt</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v2.4)"><span class="pre">ndarray</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><span class="pre">float</span></a></span></span><a class="reference internal" href="_modules/py_sod_metrics/sod_metrics.html#WeightedFmeasure.cal_wfm"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#py_sod_metrics.sod_metrics.WeightedFmeasure.cal_wfm" title="Link to this definition"></a></dt>
<dd><p>Calculate the weighted F-measure score.</p>
<p>Implements the weighted F-measure algorithm that considers:
1. Pixel dependency: Uses error at closest GT edge for background pixels
2. Pixel importance: Weights errors by distance from foreground</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pred</strong> (<em>np.ndarray</em>) – Normalized prediction map with values in [0, 1].</p></li>
<li><p><strong>gt</strong> (<em>np.ndarray</em>) – Binary ground truth mask.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Weighted F-measure score based on weighted precision and recall.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)">float</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="py_sod_metrics.sod_metrics.WeightedFmeasure.matlab_style_gauss2D">
<span class="sig-name descname"><span class="pre">matlab_style_gauss2D</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">shape</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.14)"><span class="pre">tuple</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">(7,</span> <span class="pre">7)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sigma</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><span class="pre">int</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">5</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v2.4)"><span class="pre">ndarray</span></a></span></span><a class="reference internal" href="_modules/py_sod_metrics/sod_metrics.html#WeightedFmeasure.matlab_style_gauss2D"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#py_sod_metrics.sod_metrics.WeightedFmeasure.matlab_style_gauss2D" title="Link to this definition"></a></dt>
<dd><p>Generate a 2D Gaussian kernel compatible with MATLAB’s fspecial.</p>
<p>Creates a normalized 2D Gaussian kernel that matches MATLAB’s <cite>fspecial(‘gaussian’, [shape], sigma)</cite> output.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>shape</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.14)"><em>tuple</em></a><em>, </em><em>optional</em>) – Kernel size as (height, width). Defaults to (7, 7).</p></li>
<li><p><strong>sigma</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><em>int</em></a><em>, </em><em>optional</em>) – Standard deviation of the Gaussian. Defaults to 5.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Normalized 2D Gaussian kernel.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>np.ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="py_sod_metrics.sod_metrics.WeightedFmeasure.get_results">
<span class="sig-name descname"><span class="pre">get_results</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.14)"><span class="pre">dict</span></a></span></span><a class="reference internal" href="_modules/py_sod_metrics/sod_metrics.html#WeightedFmeasure.get_results"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#py_sod_metrics.sod_metrics.WeightedFmeasure.get_results" title="Link to this definition"></a></dt>
<dd><p>Return the results about weighted F-measure.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict(wfm=weighted_fm)</p>
</dd>
</dl>
</dd></dl>

</section>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="py_sod_metrics.sod_metrics.HumanCorrectionEffortMeasure">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">py_sod_metrics.sod_metrics.</span></span><span class="sig-name descname"><span class="pre">HumanCorrectionEffortMeasure</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">relax</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><span class="pre">int</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">epsilon</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><span class="pre">float</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">2.0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/py_sod_metrics/sod_metrics.html#HumanCorrectionEffortMeasure"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#py_sod_metrics.sod_metrics.HumanCorrectionEffortMeasure" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.14)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Human Correction Effort Measure for Dichotomous Image Segmentation.</p>
<p><a href="#id16"><span class="problematic" id="id17">``</span></a>`
&#64;inproceedings{HumanCorrectionEffortMeasure,</p>
<blockquote>
<div><p>title = {Highly Accurate Dichotomous Image Segmentation},
author = {Xuebin Qin and Hang Dai and Xiaobin Hu and Deng-Ping Fan and Ling Shao and Luc Van Gool},
booktitle = ECCV,
year = {2022}</p>
</div></blockquote>
<section id="id18">
<h3>}<a class="headerlink" href="#id18" title="Link to this heading"></a></h3>
<dl class="py method">
<dt class="sig sig-object py" id="py_sod_metrics.sod_metrics.HumanCorrectionEffortMeasure.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">relax</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><span class="pre">int</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">epsilon</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><span class="pre">float</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">2.0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/py_sod_metrics/sod_metrics.html#HumanCorrectionEffortMeasure.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#py_sod_metrics.sod_metrics.HumanCorrectionEffortMeasure.__init__" title="Link to this definition"></a></dt>
<dd><p>Initialize the Human Correction Effort Measure.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>relax</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><em>int</em></a><em>, </em><em>optional</em>) – The number of relaxations. Defaults to 5.</p></li>
<li><p><strong>epsilon</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a><em>, </em><em>optional</em>) – The epsilon value. Defaults to 2.0.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="py_sod_metrics.sod_metrics.HumanCorrectionEffortMeasure.step">
<span class="sig-name descname"><span class="pre">step</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pred</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v2.4)"><span class="pre">ndarray</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">gt</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v2.4)"><span class="pre">ndarray</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">normalize</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/py_sod_metrics/sod_metrics.html#HumanCorrectionEffortMeasure.step"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#py_sod_metrics.sod_metrics.HumanCorrectionEffortMeasure.step" title="Link to this definition"></a></dt>
<dd><p>Statistics the metric for the pair of pred and gt.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pred</strong> (<em>np.ndarray</em>) – Prediction, gray scale image.</p></li>
<li><p><strong>gt</strong> (<em>np.ndarray</em>) – Ground truth, gray scale image.</p></li>
<li><p><strong>normalize</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><em>bool</em></a><em>, </em><em>optional</em>) – Whether to normalize the input data. Defaults to True.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="py_sod_metrics.sod_metrics.HumanCorrectionEffortMeasure.cal_hce">
<span class="sig-name descname"><span class="pre">cal_hce</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pred</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v2.4)"><span class="pre">ndarray</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">gt</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v2.4)"><span class="pre">ndarray</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><span class="pre">float</span></a></span></span><a class="reference internal" href="_modules/py_sod_metrics/sod_metrics.html#HumanCorrectionEffortMeasure.cal_hce"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#py_sod_metrics.sod_metrics.HumanCorrectionEffortMeasure.cal_hce" title="Link to this definition"></a></dt>
<dd><p>Calculate the Human Correction Effort (HCE) for a pair of prediction and ground truth.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pred</strong> (<em>np.ndarray</em>) – Prediction, gray scale image.</p></li>
<li><p><strong>gt</strong> (<em>np.ndarray</em>) – Ground truth, gray scale image.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The HCE value.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)">float</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="py_sod_metrics.sod_metrics.HumanCorrectionEffortMeasure.filter_conditional_boundary">
<span class="sig-name descname"><span class="pre">filter_conditional_boundary</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">contours</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.14)"><span class="pre">list</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">mask</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v2.4)"><span class="pre">ndarray</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">condition</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v2.4)"><span class="pre">ndarray</span></a></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/py_sod_metrics/sod_metrics.html#HumanCorrectionEffortMeasure.filter_conditional_boundary"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#py_sod_metrics.sod_metrics.HumanCorrectionEffortMeasure.filter_conditional_boundary" title="Link to this definition"></a></dt>
<dd><p>Filter boundary segments based on a given condition mask and compute the number of independent connected regions that require human correction.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>contours</strong> (<em>List</em><em>[</em><em>np.ndarray</em><em>]</em>) – List of boundary contours (OpenCV format).</p></li>
<li><p><strong>mask</strong> (<em>np.ndarray</em>) – Binary mask representing the region of interest.</p></li>
<li><p><strong>condition</strong> (<em>np.ndarray</em>) – Condition mask used to determine which
boundary points need to be considered.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p>boundaries (List[np.ndarray]): Filtered boundary segments that require correction.</p></li>
<li><p>independent_count (int): Number of independent connected regions</p></li>
</ul>
<p>that need correction (i.e., human editing effort).</p>
</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Tuple[List[np.ndarray], <a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)">int</a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="py_sod_metrics.sod_metrics.HumanCorrectionEffortMeasure.count_polygon_control_points">
<span class="sig-name descname"><span class="pre">count_polygon_control_points</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">boundaries</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.14)"><span class="pre">list</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">epsilon</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><span class="pre">float</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1.0</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><span class="pre">int</span></a></span></span><a class="reference internal" href="_modules/py_sod_metrics/sod_metrics.html#HumanCorrectionEffortMeasure.count_polygon_control_points"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#py_sod_metrics.sod_metrics.HumanCorrectionEffortMeasure.count_polygon_control_points" title="Link to this definition"></a></dt>
<dd><p>Approximate each boundary using the Ramer-Douglas-Peucker (RDP) algorithm and count the total number of control points of all approximated polygons.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>boundaries</strong> (<em>List</em><em>[</em><em>np.ndarray</em><em>]</em>) – List of boundary contours.
Each contour is an Nx1x2 numpy array (OpenCV contour format).</p></li>
<li><p><strong>epsilon</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a>) – RDP approximation tolerance.
Larger values result in fewer control points.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The total number of control points across all approximated polygons.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)">int</a></p>
</dd>
</dl>
<dl class="simple">
<dt>Reference:</dt><dd><p><a class="reference external" href="https://en.wikipedia.org/wiki/Ramer-Douglas-Peucker_algorithm">https://en.wikipedia.org/wiki/Ramer-Douglas-Peucker_algorithm</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="py_sod_metrics.sod_metrics.HumanCorrectionEffortMeasure.get_results">
<span class="sig-name descname"><span class="pre">get_results</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.14)"><span class="pre">dict</span></a></span></span><a class="reference internal" href="_modules/py_sod_metrics/sod_metrics.html#HumanCorrectionEffortMeasure.get_results"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#py_sod_metrics.sod_metrics.HumanCorrectionEffortMeasure.get_results" title="Link to this definition"></a></dt>
<dd><p>Return the results about HCE.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict(hce=hce)</p>
</dd>
</dl>
</dd></dl>

</section>
</dd></dl>

</section>
<section id="module-py_sod_metrics.fmeasurev2">
<span id="fmeasurev2-module"></span><h2><a class="toc-backref" href="#id35" role="doc-backlink">FmeasureV2 Module</a><a class="headerlink" href="#module-py_sod_metrics.fmeasurev2" title="Link to this heading"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="py_sod_metrics.fmeasurev2.IOUHandler">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">py_sod_metrics.fmeasurev2.</span></span><span class="sig-name descname"><span class="pre">IOUHandler</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">with_dynamic</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><span class="pre">bool</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">with_adaptive</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><span class="pre">bool</span></a></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">with_binary</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sample_based</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/py_sod_metrics/fmeasurev2.html#IOUHandler"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#py_sod_metrics.fmeasurev2.IOUHandler" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">_BaseHandler</span></code></p>
<p>Intersection over Union.</p>
<p>iou = tp / (tp + fp + fn)</p>
<dl class="py method">
<dt class="sig sig-object py" id="py_sod_metrics.fmeasurev2.IOUHandler.__call__">
<span class="sig-name descname"><span class="pre">__call__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tp</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fp</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tn</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fn</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/py_sod_metrics/fmeasurev2.html#IOUHandler.__call__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#py_sod_metrics.fmeasurev2.IOUHandler.__call__" title="Link to this definition"></a></dt>
<dd><p>Calculate IoU from confusion matrix components.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="py_sod_metrics.fmeasurev2.SpecificityHandler">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">py_sod_metrics.fmeasurev2.</span></span><span class="sig-name descname"><span class="pre">SpecificityHandler</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">with_dynamic</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><span class="pre">bool</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">with_adaptive</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><span class="pre">bool</span></a></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">with_binary</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sample_based</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/py_sod_metrics/fmeasurev2.html#SpecificityHandler"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#py_sod_metrics.fmeasurev2.SpecificityHandler" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">_BaseHandler</span></code></p>
<p>Specificity.</p>
<p>True negative rate (TNR)/specificity (SPC)/selectivity</p>
<p>specificity = tn / (tn + fp)</p>
<dl class="py method">
<dt class="sig sig-object py" id="py_sod_metrics.fmeasurev2.SpecificityHandler.__call__">
<span class="sig-name descname"><span class="pre">__call__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tp</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fp</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tn</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fn</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/py_sod_metrics/fmeasurev2.html#SpecificityHandler.__call__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#py_sod_metrics.fmeasurev2.SpecificityHandler.__call__" title="Link to this definition"></a></dt>
<dd><p>Calculate specificity from confusion matrix components.</p>
</dd></dl>

</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="py_sod_metrics.fmeasurev2.TNRHandler">
<span class="sig-prename descclassname"><span class="pre">py_sod_metrics.fmeasurev2.</span></span><span class="sig-name descname"><span class="pre">TNRHandler</span></span><a class="headerlink" href="#py_sod_metrics.fmeasurev2.TNRHandler" title="Link to this definition"></a></dt>
<dd><p>alias of <a class="reference internal" href="#py_sod_metrics.fmeasurev2.SpecificityHandler" title="py_sod_metrics.fmeasurev2.SpecificityHandler"><code class="xref py py-class docutils literal notranslate"><span class="pre">SpecificityHandler</span></code></a></p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="py_sod_metrics.fmeasurev2.DICEHandler">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">py_sod_metrics.fmeasurev2.</span></span><span class="sig-name descname"><span class="pre">DICEHandler</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">with_dynamic</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><span class="pre">bool</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">with_adaptive</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><span class="pre">bool</span></a></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">with_binary</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sample_based</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/py_sod_metrics/fmeasurev2.html#DICEHandler"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#py_sod_metrics.fmeasurev2.DICEHandler" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">_BaseHandler</span></code></p>
<p>DICE.</p>
<p>dice = 2 * tp / (tp + fn + tp + fp)</p>
<dl class="py method">
<dt class="sig sig-object py" id="py_sod_metrics.fmeasurev2.DICEHandler.__call__">
<span class="sig-name descname"><span class="pre">__call__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tp</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fp</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tn</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fn</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/py_sod_metrics/fmeasurev2.html#DICEHandler.__call__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#py_sod_metrics.fmeasurev2.DICEHandler.__call__" title="Link to this definition"></a></dt>
<dd><p>Calculate DICE coefficient from confusion matrix components.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="py_sod_metrics.fmeasurev2.OverallAccuracyHandler">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">py_sod_metrics.fmeasurev2.</span></span><span class="sig-name descname"><span class="pre">OverallAccuracyHandler</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">with_dynamic</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><span class="pre">bool</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">with_adaptive</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><span class="pre">bool</span></a></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">with_binary</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sample_based</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/py_sod_metrics/fmeasurev2.html#OverallAccuracyHandler"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#py_sod_metrics.fmeasurev2.OverallAccuracyHandler" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">_BaseHandler</span></code></p>
<p>Overall Accuracy.</p>
<p>oa = overall_accuracy = (tp + tn) / (tp + fp + tn + fn)</p>
<dl class="py method">
<dt class="sig sig-object py" id="py_sod_metrics.fmeasurev2.OverallAccuracyHandler.__call__">
<span class="sig-name descname"><span class="pre">__call__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tp</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fp</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tn</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fn</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/py_sod_metrics/fmeasurev2.html#OverallAccuracyHandler.__call__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#py_sod_metrics.fmeasurev2.OverallAccuracyHandler.__call__" title="Link to this definition"></a></dt>
<dd><p>Calculate overall accuracy from confusion matrix components.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="py_sod_metrics.fmeasurev2.KappaHandler">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">py_sod_metrics.fmeasurev2.</span></span><span class="sig-name descname"><span class="pre">KappaHandler</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">with_dynamic</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><span class="pre">bool</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">with_adaptive</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><span class="pre">bool</span></a></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">with_binary</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sample_based</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/py_sod_metrics/fmeasurev2.html#KappaHandler"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#py_sod_metrics.fmeasurev2.KappaHandler" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">_BaseHandler</span></code></p>
<p>Kappa Accuracy.</p>
<p>kappa = kappa = (oa - <a href="#id40"><span class="problematic" id="id41">p_</span></a>) / (1 - <a href="#id42"><span class="problematic" id="id43">p_</span></a>)
<a href="#id44"><span class="problematic" id="id45">p_</span></a> = [(tp + fp)(tp + fn) + (tn + fn)(tn + tp)] / (tp + fp + tn + fn)^2</p>
<dl class="py method">
<dt class="sig sig-object py" id="py_sod_metrics.fmeasurev2.KappaHandler.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">with_dynamic</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><span class="pre">bool</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">with_adaptive</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><span class="pre">bool</span></a></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">with_binary</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sample_based</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/py_sod_metrics/fmeasurev2.html#KappaHandler.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#py_sod_metrics.fmeasurev2.KappaHandler.__init__" title="Link to this definition"></a></dt>
<dd><p>Initialize the Kappa handler.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>with_dynamic</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><em>bool</em></a><em>, </em><em>optional</em>) – Record dynamic results for max/avg/curve versions.</p></li>
<li><p><strong>with_adaptive</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><em>bool</em></a><em>, </em><em>optional</em>) – Record adaptive results for adp version.</p></li>
<li><p><strong>with_binary</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><em>bool</em></a><em>, </em><em>optional</em>) – Record binary results for binary version.</p></li>
<li><p><strong>sample_based</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><em>bool</em></a><em>, </em><em>optional</em>) – Whether to average the metric of each sample or calculate
the metric of the dataset. Defaults to True.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="py_sod_metrics.fmeasurev2.KappaHandler.__call__">
<span class="sig-name descname"><span class="pre">__call__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tp</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fp</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tn</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fn</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/py_sod_metrics/fmeasurev2.html#KappaHandler.__call__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#py_sod_metrics.fmeasurev2.KappaHandler.__call__" title="Link to this definition"></a></dt>
<dd><p>Calculate Kappa coefficient from confusion matrix components.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="py_sod_metrics.fmeasurev2.PrecisionHandler">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">py_sod_metrics.fmeasurev2.</span></span><span class="sig-name descname"><span class="pre">PrecisionHandler</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">with_dynamic</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><span class="pre">bool</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">with_adaptive</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><span class="pre">bool</span></a></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">with_binary</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sample_based</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/py_sod_metrics/fmeasurev2.html#PrecisionHandler"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#py_sod_metrics.fmeasurev2.PrecisionHandler" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">_BaseHandler</span></code></p>
<p>Precision.</p>
<p>precision = tp / (tp + fp)</p>
<dl class="py method">
<dt class="sig sig-object py" id="py_sod_metrics.fmeasurev2.PrecisionHandler.__call__">
<span class="sig-name descname"><span class="pre">__call__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tp</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fp</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tn</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fn</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/py_sod_metrics/fmeasurev2.html#PrecisionHandler.__call__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#py_sod_metrics.fmeasurev2.PrecisionHandler.__call__" title="Link to this definition"></a></dt>
<dd><p>Calculate precision from confusion matrix components.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="py_sod_metrics.fmeasurev2.RecallHandler">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">py_sod_metrics.fmeasurev2.</span></span><span class="sig-name descname"><span class="pre">RecallHandler</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">with_dynamic</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><span class="pre">bool</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">with_adaptive</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><span class="pre">bool</span></a></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">with_binary</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sample_based</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/py_sod_metrics/fmeasurev2.html#RecallHandler"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#py_sod_metrics.fmeasurev2.RecallHandler" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">_BaseHandler</span></code></p>
<p>Recall.</p>
<p>True positive rate (TPR)/recall/sensitivity (SEN)/probability of detection/hit rate/power</p>
<p>recall = tp / (tp + fn)</p>
<dl class="py method">
<dt class="sig sig-object py" id="py_sod_metrics.fmeasurev2.RecallHandler.__call__">
<span class="sig-name descname"><span class="pre">__call__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tp</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fp</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tn</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fn</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/py_sod_metrics/fmeasurev2.html#RecallHandler.__call__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#py_sod_metrics.fmeasurev2.RecallHandler.__call__" title="Link to this definition"></a></dt>
<dd><p>Calculate recall from confusion matrix components.</p>
</dd></dl>

</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="py_sod_metrics.fmeasurev2.TPRHandler">
<span class="sig-prename descclassname"><span class="pre">py_sod_metrics.fmeasurev2.</span></span><span class="sig-name descname"><span class="pre">TPRHandler</span></span><a class="headerlink" href="#py_sod_metrics.fmeasurev2.TPRHandler" title="Link to this definition"></a></dt>
<dd><p>alias of <a class="reference internal" href="#py_sod_metrics.fmeasurev2.RecallHandler" title="py_sod_metrics.fmeasurev2.RecallHandler"><code class="xref py py-class docutils literal notranslate"><span class="pre">RecallHandler</span></code></a></p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="py_sod_metrics.fmeasurev2.SensitivityHandler">
<span class="sig-prename descclassname"><span class="pre">py_sod_metrics.fmeasurev2.</span></span><span class="sig-name descname"><span class="pre">SensitivityHandler</span></span><a class="headerlink" href="#py_sod_metrics.fmeasurev2.SensitivityHandler" title="Link to this definition"></a></dt>
<dd><p>alias of <a class="reference internal" href="#py_sod_metrics.fmeasurev2.RecallHandler" title="py_sod_metrics.fmeasurev2.RecallHandler"><code class="xref py py-class docutils literal notranslate"><span class="pre">RecallHandler</span></code></a></p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="py_sod_metrics.fmeasurev2.FPRHandler">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">py_sod_metrics.fmeasurev2.</span></span><span class="sig-name descname"><span class="pre">FPRHandler</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">with_dynamic</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><span class="pre">bool</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">with_adaptive</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><span class="pre">bool</span></a></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">with_binary</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sample_based</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/py_sod_metrics/fmeasurev2.html#FPRHandler"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#py_sod_metrics.fmeasurev2.FPRHandler" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">_BaseHandler</span></code></p>
<p>False Positive Rate.</p>
<p>False positive rate (FPR)/probability of false alarm/fall-out</p>
<p>fpr = fp / (tn + fp)</p>
<dl class="py method">
<dt class="sig sig-object py" id="py_sod_metrics.fmeasurev2.FPRHandler.__call__">
<span class="sig-name descname"><span class="pre">__call__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tp</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fp</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tn</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fn</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/py_sod_metrics/fmeasurev2.html#FPRHandler.__call__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#py_sod_metrics.fmeasurev2.FPRHandler.__call__" title="Link to this definition"></a></dt>
<dd><p>Calculate false positive rate from confusion matrix components.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="py_sod_metrics.fmeasurev2.BERHandler">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">py_sod_metrics.fmeasurev2.</span></span><span class="sig-name descname"><span class="pre">BERHandler</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">with_dynamic</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><span class="pre">bool</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">with_adaptive</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><span class="pre">bool</span></a></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">with_binary</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sample_based</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/py_sod_metrics/fmeasurev2.html#BERHandler"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#py_sod_metrics.fmeasurev2.BERHandler" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">_BaseHandler</span></code></p>
<p>Balance Error Rate.</p>
<p>ber = 1 - 0.5 * (tp / (tp + fn) + tn / (tn + fp))</p>
<dl class="py method">
<dt class="sig sig-object py" id="py_sod_metrics.fmeasurev2.BERHandler.__call__">
<span class="sig-name descname"><span class="pre">__call__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tp</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fp</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tn</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fn</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/py_sod_metrics/fmeasurev2.html#BERHandler.__call__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#py_sod_metrics.fmeasurev2.BERHandler.__call__" title="Link to this definition"></a></dt>
<dd><p>Calculate balanced error rate from confusion matrix components.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="py_sod_metrics.fmeasurev2.FmeasureHandler">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">py_sod_metrics.fmeasurev2.</span></span><span class="sig-name descname"><span class="pre">FmeasureHandler</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">with_dynamic</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><span class="pre">bool</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">with_adaptive</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><span class="pre">bool</span></a></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">with_binary</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sample_based</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">beta</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><span class="pre">float</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.3</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/py_sod_metrics/fmeasurev2.html#FmeasureHandler"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#py_sod_metrics.fmeasurev2.FmeasureHandler" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">_BaseHandler</span></code></p>
<p>F-measure.</p>
<p>fmeasure = (beta + 1) * precision * recall / (beta * precision + recall)</p>
<dl class="py method">
<dt class="sig sig-object py" id="py_sod_metrics.fmeasurev2.FmeasureHandler.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">with_dynamic</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><span class="pre">bool</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">with_adaptive</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><span class="pre">bool</span></a></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">with_binary</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sample_based</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">beta</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><span class="pre">float</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.3</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/py_sod_metrics/fmeasurev2.html#FmeasureHandler.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#py_sod_metrics.fmeasurev2.FmeasureHandler.__init__" title="Link to this definition"></a></dt>
<dd><p>Initialize the F-measure handler.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>with_dynamic</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><em>bool</em></a><em>, </em><em>optional</em>) – Record dynamic results for max/avg/curve versions.</p></li>
<li><p><strong>with_adaptive</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><em>bool</em></a><em>, </em><em>optional</em>) – Record adaptive results for adp version.</p></li>
<li><p><strong>with_binary</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><em>bool</em></a><em>, </em><em>optional</em>) – Record binary results for binary version.</p></li>
<li><p><strong>sample_based</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><em>bool</em></a><em>, </em><em>optional</em>) – Whether to average the metric of each sample or calculate
the metric of the dataset. Defaults to True.</p></li>
<li><p><strong>beta</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><em>bool</em></a><em>, </em><em>optional</em>) – β^2 in F-measure. Defaults to 0.3.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="py_sod_metrics.fmeasurev2.FmeasureHandler.__call__">
<span class="sig-name descname"><span class="pre">__call__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tp</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fp</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tn</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fn</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/py_sod_metrics/fmeasurev2.html#FmeasureHandler.__call__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#py_sod_metrics.fmeasurev2.FmeasureHandler.__call__" title="Link to this definition"></a></dt>
<dd><p>Calculate F-measure from confusion matrix components.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Uses separate precision and recall calculations to maintain consistency with original implementation rather than combined formula.</p>
</div>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="py_sod_metrics.fmeasurev2.FmeasureV2">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">py_sod_metrics.fmeasurev2.</span></span><span class="sig-name descname"><span class="pre">FmeasureV2</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">metric_handlers</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.14)"><span class="pre">dict</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/py_sod_metrics/fmeasurev2.html#FmeasureV2"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#py_sod_metrics.fmeasurev2.FmeasureV2" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.14)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Enhanced F-measure evaluator with support for multiple evaluation metrics.</p>
<p>This class provides a flexible framework for computing various binary classification metrics including precision, recall, specificity, dice, IoU, and F-measure. It supports dynamic thresholding, adaptive thresholding, and binary evaluation modes.</p>
<dl class="py method">
<dt class="sig sig-object py" id="py_sod_metrics.fmeasurev2.FmeasureV2.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">metric_handlers</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.14)"><span class="pre">dict</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/py_sod_metrics/fmeasurev2.html#FmeasureV2.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#py_sod_metrics.fmeasurev2.FmeasureV2.__init__" title="Link to this definition"></a></dt>
<dd><p>Enhanced Fmeasure class with more relevant metrics, e.g. precision, recall, specificity, dice, iou, fmeasure and so on.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>metric_handlers</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.14)"><em>dict</em></a><em>, </em><em>optional</em>) – Handlers of different metrics. Defaults to None.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="py_sod_metrics.fmeasurev2.FmeasureV2.add_handler">
<span class="sig-name descname"><span class="pre">add_handler</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">handler_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">metric_handler</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/py_sod_metrics/fmeasurev2.html#FmeasureV2.add_handler"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#py_sod_metrics.fmeasurev2.FmeasureV2.add_handler" title="Link to this definition"></a></dt>
<dd><p>Add a metric handler to the evaluator.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>handler_name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.14)"><em>str</em></a>) – Name identifier for the metric handler.</p></li>
<li><p><strong>metric_handler</strong> – Handler instance that computes the specific metric.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="py_sod_metrics.fmeasurev2.FmeasureV2.get_statistics">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get_statistics</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">binary</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v2.4)"><span class="pre">ndarray</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">gt</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v2.4)"><span class="pre">ndarray</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">FG</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><span class="pre">int</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">BG</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><span class="pre">int</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.14)"><span class="pre">dict</span></a></span></span><a class="reference internal" href="_modules/py_sod_metrics/fmeasurev2.html#FmeasureV2.get_statistics"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#py_sod_metrics.fmeasurev2.FmeasureV2.get_statistics" title="Link to this definition"></a></dt>
<dd><p>Calculate the TP, FP, TN and FN based a adaptive threshold.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>binary</strong> (<em>np.ndarray</em>) – binarized <cite>pred</cite> containing [0, 1]</p></li>
<li><p><strong>gt</strong> (<em>np.ndarray</em>) – gt binarized by 128</p></li>
<li><p><strong>FG</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><em>int</em></a>) – the number of foreground pixels in gt</p></li>
<li><p><strong>BG</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><em>int</em></a>) – the number of background pixels in gt</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>TP, FP, TN, FN</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.14)">dict</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="py_sod_metrics.fmeasurev2.FmeasureV2.adaptively_binarizing">
<span class="sig-name descname"><span class="pre">adaptively_binarizing</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pred</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v2.4)"><span class="pre">ndarray</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">gt</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v2.4)"><span class="pre">ndarray</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">FG</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><span class="pre">int</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">BG</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><span class="pre">int</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.14)"><span class="pre">dict</span></a></span></span><a class="reference internal" href="_modules/py_sod_metrics/fmeasurev2.html#FmeasureV2.adaptively_binarizing"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#py_sod_metrics.fmeasurev2.FmeasureV2.adaptively_binarizing" title="Link to this definition"></a></dt>
<dd><p>Calculate the TP, FP, TN and FN based a adaptive threshold.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pred</strong> (<em>np.ndarray</em>) – prediction normalized in [0, 1]</p></li>
<li><p><strong>gt</strong> (<em>np.ndarray</em>) – gt binarized by 128</p></li>
<li><p><strong>FG</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><em>int</em></a>) – the number of foreground pixels in gt</p></li>
<li><p><strong>BG</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><em>int</em></a>) – the number of background pixels in gt</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>TP, FP, TN, FN</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.14)">dict</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="py_sod_metrics.fmeasurev2.FmeasureV2.dynamically_binarizing">
<span class="sig-name descname"><span class="pre">dynamically_binarizing</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pred</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v2.4)"><span class="pre">ndarray</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">gt</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v2.4)"><span class="pre">ndarray</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">FG</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><span class="pre">int</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">BG</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><span class="pre">int</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.14)"><span class="pre">dict</span></a></span></span><a class="reference internal" href="_modules/py_sod_metrics/fmeasurev2.html#FmeasureV2.dynamically_binarizing"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#py_sod_metrics.fmeasurev2.FmeasureV2.dynamically_binarizing" title="Link to this definition"></a></dt>
<dd><p>Calculate the corresponding TP, FP, TN and FNs when the threshold changes from 0 to 255.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pred</strong> (<em>np.ndarray</em>) – prediction normalized in [0, 1]</p></li>
<li><p><strong>gt</strong> (<em>np.ndarray</em>) – gt binarized by 128</p></li>
<li><p><strong>FG</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><em>int</em></a>) – the number of foreground pixels in gt</p></li>
<li><p><strong>BG</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><em>int</em></a>) – the number of background pixels in gt</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>TPs, FPs, TNs, FNs</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.14)">dict</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="py_sod_metrics.fmeasurev2.FmeasureV2.step">
<span class="sig-name descname"><span class="pre">step</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pred</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v2.4)"><span class="pre">ndarray</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">gt</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v2.4)"><span class="pre">ndarray</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">normalize</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/py_sod_metrics/fmeasurev2.html#FmeasureV2.step"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#py_sod_metrics.fmeasurev2.FmeasureV2.step" title="Link to this definition"></a></dt>
<dd><p>Statistics the metrics for the pair of pred and gt.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pred</strong> (<em>np.ndarray</em>) – Prediction, gray scale image.</p></li>
<li><p><strong>gt</strong> (<em>np.ndarray</em>) – Ground truth, gray scale image.</p></li>
<li><p><strong>normalize</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><em>bool</em></a><em>, </em><em>optional</em>) – Whether to normalize the input data. Defaults to True.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="py_sod_metrics.fmeasurev2.FmeasureV2.get_results">
<span class="sig-name descname"><span class="pre">get_results</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.14)"><span class="pre">dict</span></a></span></span><a class="reference internal" href="_modules/py_sod_metrics/fmeasurev2.html#FmeasureV2.get_results"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#py_sod_metrics.fmeasurev2.FmeasureV2.get_results" title="Link to this definition"></a></dt>
<dd><p>Return the results of the specific metric names.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>All results corresponding to different metrics.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.14)">dict</a></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-py_sod_metrics.context_measure">
<span id="context-measure-module"></span><h2><a class="toc-backref" href="#id36" role="doc-backlink">Context Measure Module</a><a class="headerlink" href="#module-py_sod_metrics.context_measure" title="Link to this heading"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="py_sod_metrics.context_measure.ContextMeasure">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">py_sod_metrics.context_measure.</span></span><span class="sig-name descname"><span class="pre">ContextMeasure</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">beta2</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><span class="pre">float</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">alpha</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><span class="pre">float</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">6.0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/py_sod_metrics/context_measure.html#ContextMeasure"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#py_sod_metrics.context_measure.ContextMeasure" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.14)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Context-measure for evaluating foreground segmentation quality.</p>
<p>This metric evaluates predictions by considering both forward inference (how well predictions align with ground truth) and reverse deduction (how completely ground truth is covered by predictions), using context-aware Gaussian kernels.</p>
<p><a href="#id19"><span class="problematic" id="id20">``</span></a>`
&#64;article{ContextMeasure,</p>
<blockquote>
<div><p>title={Context-measure: Contextualizing Metric for Camouflage},
author={Wang, Chen-Yang and Ji, Gepeng and Shao, Song and Cheng, Ming-Ming and Fan, Deng-Ping},
journal={arXiv preprint arXiv:2512.07076},
year={2025}</p>
</div></blockquote>
<section id="id21">
<h3>}<a class="headerlink" href="#id21" title="Link to this heading"></a></h3>
<dl class="py method">
<dt class="sig sig-object py" id="py_sod_metrics.context_measure.ContextMeasure.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">beta2</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><span class="pre">float</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">alpha</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><span class="pre">float</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">6.0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/py_sod_metrics/context_measure.html#ContextMeasure.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#py_sod_metrics.context_measure.ContextMeasure.__init__" title="Link to this definition"></a></dt>
<dd><p>Initialize the Context Measure evaluator.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>beta2</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a>) – Balancing factor between forward inference and reverse deduction. Higher values give more weight to forward inference. Defaults to 1.0.</p></li>
<li><p><strong>alpha</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a>) – Scaling factor for Gaussian kernel covariance, controls the spatial context range. Defaults to 6.0.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="py_sod_metrics.context_measure.ContextMeasure.step">
<span class="sig-name descname"><span class="pre">step</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pred</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v2.4)"><span class="pre">ndarray</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">gt</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v2.4)"><span class="pre">ndarray</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">normalize</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/py_sod_metrics/context_measure.html#ContextMeasure.step"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#py_sod_metrics.context_measure.ContextMeasure.step" title="Link to this definition"></a></dt>
<dd><p>Statistics the metric for the pair of pred and gt.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pred</strong> (<em>np.ndarray</em>) – Prediction, gray scale image.</p></li>
<li><p><strong>gt</strong> (<em>np.ndarray</em>) – Ground truth, gray scale image.</p></li>
<li><p><strong>normalize</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><em>bool</em></a><em>, </em><em>optional</em>) – Whether to normalize the input data. Defaults to True.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="py_sod_metrics.context_measure.ContextMeasure.compute">
<span class="sig-name descname"><span class="pre">compute</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pred</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v2.4)"><span class="pre">ndarray</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">gt</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v2.4)"><span class="pre">ndarray</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">cd</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v2.4)"><span class="pre">ndarray</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><span class="pre">float</span></a></span></span><a class="reference internal" href="_modules/py_sod_metrics/context_measure.html#ContextMeasure.compute"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#py_sod_metrics.context_measure.ContextMeasure.compute" title="Link to this definition"></a></dt>
<dd><p>Compute the context measure between prediction and ground truth.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pred</strong> (<em>np.ndarray</em>) – Prediction map (values between 0 and 1).</p></li>
<li><p><strong>gt</strong> (<em>np.ndarray</em>) – Ground truth map (boolean or 0/1 values).</p></li>
<li><p><strong>cd</strong> (<em>np.ndarray</em>) – Camouflage degree map (values between 0 and 1).</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Context measure value.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)">float</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="py_sod_metrics.context_measure.ContextMeasure.get_results">
<span class="sig-name descname"><span class="pre">get_results</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.14)"><span class="pre">dict</span></a></span></span><a class="reference internal" href="_modules/py_sod_metrics/context_measure.html#ContextMeasure.get_results"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#py_sod_metrics.context_measure.ContextMeasure.get_results" title="Link to this definition"></a></dt>
<dd><p>Return the results about context measure.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict(cm=context_measure)</p>
</dd>
</dl>
</dd></dl>

</section>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="py_sod_metrics.context_measure.CamouflageContextMeasure">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">py_sod_metrics.context_measure.</span></span><span class="sig-name descname"><span class="pre">CamouflageContextMeasure</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">beta2</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><span class="pre">float</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1.2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">alpha</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><span class="pre">float</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">6.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gamma</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><span class="pre">int</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">8</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lambda_spatial</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><span class="pre">float</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">20</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/py_sod_metrics/context_measure.html#CamouflageContextMeasure"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#py_sod_metrics.context_measure.CamouflageContextMeasure" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#py_sod_metrics.context_measure.ContextMeasure" title="py_sod_metrics.context_measure.ContextMeasure"><code class="xref py py-class docutils literal notranslate"><span class="pre">ContextMeasure</span></code></a></p>
<p>Camouflage Context-measure for evaluating camouflaged object detection quality.</p>
<p>This metric extends the base ContextMeasure by incorporating camouflage degree, which measures how well the foreground blends with its surrounding background. It uses patch-based nearest neighbor matching in Lab color space with spatial constraints to estimate camouflage difficulty.</p>
<p><a href="#id22"><span class="problematic" id="id23">``</span></a>`
&#64;article{ContextMeasure,</p>
<blockquote>
<div><p>title={Context-measure: Contextualizing Metric for Camouflage},
author={Wang, Chen-Yang and Ji, Gepeng and Shao, Song and Cheng, Ming-Ming and Fan, Deng-Ping},
journal={arXiv preprint arXiv:2512.07076},
year={2025}</p>
</div></blockquote>
<section id="id24">
<h3>}<a class="headerlink" href="#id24" title="Link to this heading"></a></h3>
<dl class="py method">
<dt class="sig sig-object py" id="py_sod_metrics.context_measure.CamouflageContextMeasure.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">beta2</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><span class="pre">float</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1.2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">alpha</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><span class="pre">float</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">6.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gamma</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><span class="pre">int</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">8</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lambda_spatial</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><span class="pre">float</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">20</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/py_sod_metrics/context_measure.html#CamouflageContextMeasure.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#py_sod_metrics.context_measure.CamouflageContextMeasure.__init__" title="Link to this definition"></a></dt>
<dd><p>Initialize the Camouflage Context Measure evaluator.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>beta2</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a>) – Balancing factor for forward and reverse. Defaults to 1.2 for camouflage.</p></li>
<li><p><strong>alpha</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a>) – Gaussian kernel scaling factor. Defaults to 6.0.</p></li>
<li><p><strong>gamma</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><em>int</em></a>) – Exponential scaling factor for camouflage degree. Defaults to 8.</p></li>
<li><p><strong>lambda_spatial</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a>) – Weight for spatial distance in ANN search. Defaults to 20.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="py_sod_metrics.context_measure.CamouflageContextMeasure.step">
<span class="sig-name descname"><span class="pre">step</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pred</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v2.4)"><span class="pre">ndarray</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">gt</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v2.4)"><span class="pre">ndarray</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">img</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v2.4)"><span class="pre">ndarray</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">normalize</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/py_sod_metrics/context_measure.html#CamouflageContextMeasure.step"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#py_sod_metrics.context_measure.CamouflageContextMeasure.step" title="Link to this definition"></a></dt>
<dd><p>Statistics the metric for the pair of pred, gt, and img.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pred</strong> (<em>np.ndarray</em>) – Prediction, gray scale image.</p></li>
<li><p><strong>gt</strong> (<em>np.ndarray</em>) – Ground truth, gray scale image.</p></li>
<li><p><strong>img</strong> (<em>np.ndarray</em>) – Original RGB image (required for camouflage degree calculation).</p></li>
<li><p><strong>normalize</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><em>bool</em></a><em>, </em><em>optional</em>) – Whether to normalize the input data. Defaults to True.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="py_sod_metrics.context_measure.CamouflageContextMeasure.get_results">
<span class="sig-name descname"><span class="pre">get_results</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.14)"><span class="pre">dict</span></a></span></span><a class="reference internal" href="_modules/py_sod_metrics/context_measure.html#CamouflageContextMeasure.get_results"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#py_sod_metrics.context_measure.CamouflageContextMeasure.get_results" title="Link to this definition"></a></dt>
<dd><p>Return the results about camouflage context measure.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict(ccm=camouflage_context_measure)</p>
</dd>
</dl>
</dd></dl>

</section>
</dd></dl>

</section>
<section id="module-py_sod_metrics.multiscale_iou">
<span id="multi-scale-iou-module"></span><h2><a class="toc-backref" href="#id37" role="doc-backlink">Multi-Scale IoU Module</a><a class="headerlink" href="#module-py_sod_metrics.multiscale_iou" title="Link to this heading"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="py_sod_metrics.multiscale_iou.MSIoU">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">py_sod_metrics.multiscale_iou.</span></span><span class="sig-name descname"><span class="pre">MSIoU</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">with_dynamic</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><span class="pre">bool</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">with_adaptive</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><span class="pre">bool</span></a></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">with_binary</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_levels</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/py_sod_metrics/multiscale_iou.html#MSIoU"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#py_sod_metrics.multiscale_iou.MSIoU" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.14)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Multi-Scale Intersection over Union (MSIoU) metric.</p>
<p>This implements the MSIoU metric which evaluates segmentation quality at multiple scales by comparing edge maps. It addresses the limitation of traditional IoU which struggles with fine structures in segmentation results.</p>
<p><a href="#id25"><span class="problematic" id="id26">``</span></a>`
&#64;inproceedings{MSIoU,</p>
<blockquote>
<div><p>title = {Multiscale IOU: A Metric for Evaluation of Salient Object Detection with Fine Structures},
author = {Ahmadzadeh, Azim and Kempton, Dustin J. and Chen, Yang and Angryk, Rafal A.},
booktitle = ICIP,
year = {2021},</p>
</div></blockquote>
<section id="id27">
<h3>}<a class="headerlink" href="#id27" title="Link to this heading"></a></h3>
<dl class="py method">
<dt class="sig sig-object py" id="py_sod_metrics.multiscale_iou.MSIoU.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">with_dynamic</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><span class="pre">bool</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">with_adaptive</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><span class="pre">bool</span></a></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">with_binary</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_levels</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/py_sod_metrics/multiscale_iou.html#MSIoU.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#py_sod_metrics.multiscale_iou.MSIoU.__init__" title="Link to this definition"></a></dt>
<dd><p>Initialize the MSIoU evaluator.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>with_dynamic</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><em>bool</em></a><em>, </em><em>optional</em>) – Record dynamic results for max/avg/curve versions.</p></li>
<li><p><strong>with_adaptive</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><em>bool</em></a><em>, </em><em>optional</em>) – Record adaptive results for adp version.</p></li>
<li><p><strong>with_binary</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><em>bool</em></a><em>, </em><em>optional</em>) – Record binary results for binary version.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="py_sod_metrics.multiscale_iou.MSIoU.get_edge">
<span class="sig-name descname"><span class="pre">get_edge</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mask</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v2.4)"><span class="pre">ndarray</span></a></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/py_sod_metrics/multiscale_iou.html#MSIoU.get_edge"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#py_sod_metrics.multiscale_iou.MSIoU.get_edge" title="Link to this definition"></a></dt>
<dd><p>Edge detection based on the <cite>scipy.ndimage.sobel</cite> function.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>mask</strong> – a binary mask of an object whose edges are of interest.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>a binary mask of 1’s as edges and 0’s as background.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="py_sod_metrics.multiscale_iou.MSIoU.shrink_by_grid">
<span class="sig-name descname"><span class="pre">shrink_by_grid</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">image</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v2.4)"><span class="pre">ndarray</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">cell_size</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><span class="pre">int</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v2.4)"><span class="pre">ndarray</span></a></span></span><a class="reference internal" href="_modules/py_sod_metrics/multiscale_iou.html#MSIoU.shrink_by_grid"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#py_sod_metrics.multiscale_iou.MSIoU.shrink_by_grid" title="Link to this definition"></a></dt>
<dd><p>Shrink the image by summing values within grid cells.</p>
<p>Performs box-counting after applying zero padding if the image dimensions
are not perfectly divisible by the cell size.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>image</strong> – The input binary image (edges).</p></li>
<li><p><strong>cell_size</strong> – The size of the grid cells.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A shrunk binary image where each pixel represents a grid cell.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="py_sod_metrics.multiscale_iou.MSIoU.multi_scale_iou">
<span class="sig-name descname"><span class="pre">multi_scale_iou</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pred_edge</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v2.4)"><span class="pre">ndarray</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">gt_edge</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v2.4)"><span class="pre">ndarray</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.14)"><span class="pre">list</span></a></span></span><a class="reference internal" href="_modules/py_sod_metrics/multiscale_iou.html#MSIoU.multi_scale_iou"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#py_sod_metrics.multiscale_iou.MSIoU.multi_scale_iou" title="Link to this definition"></a></dt>
<dd><p>Calculate Multi-Scale IoU.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pred_edge</strong> (<em>np.ndarray</em>) – edge map of pred</p></li>
<li><p><strong>gt_edge</strong> (<em>np.ndarray</em>) – edge map of gt</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>ratios</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.14)">list</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="py_sod_metrics.multiscale_iou.MSIoU.binarizing">
<span class="sig-name descname"><span class="pre">binarizing</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pred_bin</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v2.4)"><span class="pre">ndarray</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">gt_edge</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v2.4)"><span class="pre">ndarray</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.14)"><span class="pre">list</span></a></span></span><a class="reference internal" href="_modules/py_sod_metrics/multiscale_iou.html#MSIoU.binarizing"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#py_sod_metrics.multiscale_iou.MSIoU.binarizing" title="Link to this definition"></a></dt>
<dd><p>Calculate Multi-Scale IoU based on dynamically thresholding.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pred_bin</strong> (<em>np.ndarray</em>) – binarized pred</p></li>
<li><p><strong>gt_edge</strong> (<em>np.ndarray</em>) – gt binarized by 128</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>areas under the curve</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>np.ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="py_sod_metrics.multiscale_iou.MSIoU.step">
<span class="sig-name descname"><span class="pre">step</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pred</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v2.4)"><span class="pre">ndarray</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">gt</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v2.4)"><span class="pre">ndarray</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">normalize</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/py_sod_metrics/multiscale_iou.html#MSIoU.step"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#py_sod_metrics.multiscale_iou.MSIoU.step" title="Link to this definition"></a></dt>
<dd><p>Calculate the Multi-Scale IoU for a single prediction-ground truth pair.</p>
<p>This method first extracts edges from both prediction and ground truth,
then computes IoU ratios at multiple scales defined by self.cell_sizes.
Finally, it calculates the area under the curve of these ratios.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pred</strong> (<em>np.ndarray</em>) – Prediction, gray scale image.</p></li>
<li><p><strong>gt</strong> (<em>np.ndarray</em>) – Ground truth, gray scale image.</p></li>
<li><p><strong>normalize</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><em>bool</em></a><em>, </em><em>optional</em>) – Whether to normalize the input data. Defaults to True.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The MSIoU score for the given pair (float between 0 and 1).</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="py_sod_metrics.multiscale_iou.MSIoU.get_results">
<span class="sig-name descname"><span class="pre">get_results</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.14)"><span class="pre">dict</span></a></span></span><a class="reference internal" href="_modules/py_sod_metrics/multiscale_iou.html#MSIoU.get_results"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#py_sod_metrics.multiscale_iou.MSIoU.get_results" title="Link to this definition"></a></dt>
<dd><p>Return the results about MSIoU.</p>
<p>Calculates the mean of all stored MSIoU values from previous calls to step().</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Dictionary with key ‘msiou’ and the mean MSIoU value.</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p>ValueError if no samples have been processed.</p>
</dd>
</dl>
</dd></dl>

</section>
</dd></dl>

</section>
<section id="module-py_sod_metrics.size_invariance">
<span id="size-invariance-module"></span><h2><a class="toc-backref" href="#id38" role="doc-backlink">Size Invariance Module</a><a class="headerlink" href="#module-py_sod_metrics.size_invariance" title="Link to this heading"></a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="py_sod_metrics.size_invariance.parse_connected_components">
<span class="sig-prename descclassname"><span class="pre">py_sod_metrics.size_invariance.</span></span><span class="sig-name descname"><span class="pre">parse_connected_components</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mask</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v2.4)"><span class="pre">ndarray</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">area_threshold</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><span class="pre">float</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">50</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.14)"><span class="pre">tuple</span></a></span></span><a class="reference internal" href="_modules/py_sod_metrics/size_invariance.html#parse_connected_components"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#py_sod_metrics.size_invariance.parse_connected_components" title="Link to this definition"></a></dt>
<dd><p>Find the connected components in a binary mask.</p>
<ol class="arabic simple">
<li><p>If there are no connected components, return an empty list.</p></li>
<li><p>If all the connected components are smaller than the area_threshold, we will return the largest one.</p></li>
</ol>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>mask</strong> (<em>np.ndarray</em>) – binary mask</p></li>
<li><p><strong>area_threshold</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a>) – The threshold for the area of the connected components.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>max_valid_tgt_idx, valid_labeled_mask</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.14)">tuple</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="py_sod_metrics.size_invariance.encode_bboxwise_tgts_bitwise">
<span class="sig-prename descclassname"><span class="pre">py_sod_metrics.size_invariance.</span></span><span class="sig-name descname"><span class="pre">encode_bboxwise_tgts_bitwise</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">max_valid_tgt_idx</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><span class="pre">int</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">valid_labeled_mask</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v2.4)"><span class="pre">ndarray</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v2.4)"><span class="pre">ndarray</span></a></span></span><a class="reference internal" href="_modules/py_sod_metrics/size_invariance.html#encode_bboxwise_tgts_bitwise"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#py_sod_metrics.size_invariance.encode_bboxwise_tgts_bitwise" title="Link to this definition"></a></dt>
<dd><p>Encode each target bbox region with a bitwise mask.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>max_valid_tgt_idx</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><em>int</em></a>) – The maximum index of the valid targets.</p></li>
<li><p><strong>valid_labeled_mask</strong> (<em>np.ndarray</em>) – The mask of the valid targets. 0 is background.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The size weight for the bbox of each target.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>np.ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="py_sod_metrics.size_invariance.get_kth_bit">
<span class="sig-prename descclassname"><span class="pre">py_sod_metrics.size_invariance.</span></span><span class="sig-name descname"><span class="pre">get_kth_bit</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">n</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v2.4)"><span class="pre">ndarray</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">k</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><span class="pre">int</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v2.4)"><span class="pre">ndarray</span></a></span></span><a class="reference internal" href="_modules/py_sod_metrics/size_invariance.html#get_kth_bit"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#py_sod_metrics.size_invariance.get_kth_bit" title="Link to this definition"></a></dt>
<dd><p>Get the value (0 or 1) in the k-th bit of each element in the array.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>n</strong> (<em>np.ndarray</em>) – The original data array.</p></li>
<li><p><strong>k</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.14)"><em>int</em></a>) – The index of the bit to extract.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The extracted data array. Only the output of the kth bit which is not 0 equals 1.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>np.ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="py_sod_metrics.size_invariance.SizeInvarianceFmeasureV2">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">py_sod_metrics.size_invariance.</span></span><span class="sig-name descname"><span class="pre">SizeInvarianceFmeasureV2</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">metric_handlers</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.14)"><span class="pre">dict</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.14)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/py_sod_metrics/size_invariance.html#SizeInvarianceFmeasureV2"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#py_sod_metrics.size_invariance.SizeInvarianceFmeasureV2" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#py_sod_metrics.fmeasurev2.FmeasureV2" title="py_sod_metrics.fmeasurev2.FmeasureV2"><code class="xref py py-class docutils literal notranslate"><span class="pre">FmeasureV2</span></code></a></p>
<p>Size invariance version of FmeasureV2.</p>
<p>This provides size-invariant versions of standard SOD metrics that address the imbalance problem in multi-object salient object detection. Traditional metrics can be biased toward larger objects, while size-invariant metrics ensure fair evaluation across objects of different sizes.</p>
<p><a href="#id28"><span class="problematic" id="id29">``</span></a>`
&#64;inproceedings{SizeInvarianceVariants,</p>
<blockquote>
<div><p>title = {Size-invariance Matters: Rethinking Metrics and Losses for Imbalanced Multi-object Salient Object Detection},
author = {Feiran Li and Qianqian Xu and Shilong Bao and Zhiyong Yang and Runmin Cong and Xiaochun Cao and Qingming Huang},
booktitle = ICML,
year = {2024}</p>
</div></blockquote>
<section id="id30">
<h3>}<a class="headerlink" href="#id30" title="Link to this heading"></a></h3>
<dl class="py method">
<dt class="sig sig-object py" id="py_sod_metrics.size_invariance.SizeInvarianceFmeasureV2.step">
<span class="sig-name descname"><span class="pre">step</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pred</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v2.4)"><span class="pre">ndarray</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">gt</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v2.4)"><span class="pre">ndarray</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">normalize</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/py_sod_metrics/size_invariance.html#SizeInvarianceFmeasureV2.step"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#py_sod_metrics.size_invariance.SizeInvarianceFmeasureV2.step" title="Link to this definition"></a></dt>
<dd><p>Statistics the metrics for the pair of pred and gt.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pred</strong> (<em>np.ndarray</em>) – Prediction, gray scale image.</p></li>
<li><p><strong>gt</strong> (<em>np.ndarray</em>) – Ground truth, gray scale image.</p></li>
<li><p><strong>normalize</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><em>bool</em></a><em>, </em><em>optional</em>) – Whether to normalize the input data. Defaults to True.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="py_sod_metrics.size_invariance.SizeInvarianceFmeasureV2.get_results">
<span class="sig-name descname"><span class="pre">get_results</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.14)"><span class="pre">dict</span></a></span></span><a class="reference internal" href="_modules/py_sod_metrics/size_invariance.html#SizeInvarianceFmeasureV2.get_results"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#py_sod_metrics.size_invariance.SizeInvarianceFmeasureV2.get_results" title="Link to this definition"></a></dt>
<dd><p>Return the results of the specific metric names.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>All results corresponding to different metrics.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.14)">dict</a></p>
</dd>
</dl>
</dd></dl>

</section>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="py_sod_metrics.size_invariance.SizeInvarianceMAE">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">py_sod_metrics.size_invariance.</span></span><span class="sig-name descname"><span class="pre">SizeInvarianceMAE</span></span><a class="reference internal" href="_modules/py_sod_metrics/size_invariance.html#SizeInvarianceMAE"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#py_sod_metrics.size_invariance.SizeInvarianceMAE" title="Link to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#py_sod_metrics.sod_metrics.MAE" title="py_sod_metrics.sod_metrics.MAE"><code class="xref py py-class docutils literal notranslate"><span class="pre">MAE</span></code></a></p>
<p>Size invariance version of MAE.</p>
<p><a href="#id31"><span class="problematic" id="id32">``</span></a>`
&#64;inproceedings{SizeInvarianceVariants,</p>
<blockquote>
<div><p>title = {Size-invariance Matters: Rethinking Metrics and Losses for Imbalanced Multi-object Salient Object Detection},
author = {Feiran Li and Qianqian Xu and Shilong Bao and Zhiyong Yang and Runmin Cong and Xiaochun Cao and Qingming Huang},
booktitle = ICML,
year = {2024}</p>
</div></blockquote>
<section id="id33">
<h3>}<a class="headerlink" href="#id33" title="Link to this heading"></a></h3>
<dl class="py method">
<dt class="sig sig-object py" id="py_sod_metrics.size_invariance.SizeInvarianceMAE.step">
<span class="sig-name descname"><span class="pre">step</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pred</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v2.4)"><span class="pre">ndarray</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">gt</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v2.4)"><span class="pre">ndarray</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">normalize</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/py_sod_metrics/size_invariance.html#SizeInvarianceMAE.step"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#py_sod_metrics.size_invariance.SizeInvarianceMAE.step" title="Link to this definition"></a></dt>
<dd><p>Statistics the metric for the pair of pred and gt.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pred</strong> (<em>np.ndarray</em>) – Prediction, gray scale image.</p></li>
<li><p><strong>gt</strong> (<em>np.ndarray</em>) – Ground truth, gray scale image.</p></li>
<li><p><strong>normalize</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><em>bool</em></a><em>, </em><em>optional</em>) – Whether to normalize the input data. Defaults to True.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="py_sod_metrics.size_invariance.SizeInvarianceMAE.get_results">
<span class="sig-name descname"><span class="pre">get_results</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.14)"><span class="pre">dict</span></a></span></span><a class="reference internal" href="_modules/py_sod_metrics/size_invariance.html#SizeInvarianceMAE.get_results"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#py_sod_metrics.size_invariance.SizeInvarianceMAE.get_results" title="Link to this definition"></a></dt>
<dd><p>Return the results about MAE.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict(mae=mae)</p>
</dd>
</dl>
</dd></dl>

</section>
</dd></dl>

</section>
<section id="module-py_sod_metrics.utils">
<span id="utility-functions"></span><h2><a class="toc-backref" href="#id39" role="doc-backlink">Utility Functions</a><a class="headerlink" href="#module-py_sod_metrics.utils" title="Link to this heading"></a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="py_sod_metrics.utils.validate_and_normalize_input">
<span class="sig-prename descclassname"><span class="pre">py_sod_metrics.utils.</span></span><span class="sig-name descname"><span class="pre">validate_and_normalize_input</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pred</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v2.4)"><span class="pre">ndarray</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">gt</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v2.4)"><span class="pre">ndarray</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">normalize</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/py_sod_metrics/utils.html#validate_and_normalize_input"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#py_sod_metrics.utils.validate_and_normalize_input" title="Link to this definition"></a></dt>
<dd><p>Validate and optionally normalize prediction and ground truth inputs.</p>
<p>This function ensures that prediction and ground truth arrays have compatible shapes and appropriate data types. When normalization is enabled, it converts inputs to the standard format required by the predefined metrics (pred in [0, 1] as float, gt as boolean).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pred</strong> (<em>np.ndarray</em>) – Prediction array. If <cite>normalize=True</cite>, should be uint8 grayscale image (0-255). If <cite>normalize=False</cite>, should be float32/float64 in range [0, 1].</p></li>
<li><p><strong>gt</strong> (<em>np.ndarray</em>) – Ground truth array. If <cite>normalize=True</cite>, should be uint8 grayscale image (0-255). If <cite>normalize=False</cite>, should be boolean array.</p></li>
<li><p><strong>normalize</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.14)"><em>bool</em></a><em>, </em><em>optional</em>) – Whether to normalize the input data using prepare_data(). Defaults to True.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><dl class="simple">
<dt>A tuple containing:</dt><dd><ul class="simple">
<li><p>pred (np.ndarray): Normalized prediction as float64 in range [0, 1].</p></li>
<li><p>gt (np.ndarray): Normalized ground truth as boolean array.</p></li>
</ul>
</dd>
</dl>
</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.14)">tuple</a></p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.14)"><strong>ValueError</strong></a> – If prediction and ground truth shapes don’t match, or if prediction values are outside [0, 1] range when normalize=False.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#TypeError" title="(in Python v3.14)"><strong>TypeError</strong></a> – If data types are invalid when normalize=False (pred must be float32/float64, gt must be boolean).</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="py_sod_metrics.utils.prepare_data">
<span class="sig-prename descclassname"><span class="pre">py_sod_metrics.utils.</span></span><span class="sig-name descname"><span class="pre">prepare_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pred</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v2.4)"><span class="pre">ndarray</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">gt</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v2.4)"><span class="pre">ndarray</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.14)"><span class="pre">tuple</span></a></span></span><a class="reference internal" href="_modules/py_sod_metrics/utils.html#prepare_data"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#py_sod_metrics.utils.prepare_data" title="Link to this definition"></a></dt>
<dd><p>Convert and normalize prediction and ground truth data.</p>
<ul class="simple">
<li><p>For predictions, mimics MATLAB’s <cite>mapminmax(im2double(…))</cite>.</p></li>
<li><p>For ground truth, applies binary thresholding at 128.</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pred</strong> (<em>np.ndarray</em>) – Prediction grayscale image, uint8 type with values in [0, 255].</p></li>
<li><p><strong>gt</strong> (<em>np.ndarray</em>) – Ground truth grayscale image, uint8 type with values in [0, 255].</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><dl class="simple">
<dt>A tuple containing:</dt><dd><ul class="simple">
<li><p>pred (np.ndarray): Normalized prediction as float64 in range [0, 1].</p></li>
<li><p>gt (np.ndarray): Binary ground truth as boolean array.</p></li>
</ul>
</dd>
</dl>
</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.14)">tuple</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="py_sod_metrics.utils.get_adaptive_threshold">
<span class="sig-prename descclassname"><span class="pre">py_sod_metrics.utils.</span></span><span class="sig-name descname"><span class="pre">get_adaptive_threshold</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">matrix</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v2.4)"><span class="pre">ndarray</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_value</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><span class="pre">float</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><span class="pre">float</span></a></span></span><a class="reference internal" href="_modules/py_sod_metrics/utils.html#get_adaptive_threshold"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#py_sod_metrics.utils.get_adaptive_threshold" title="Link to this definition"></a></dt>
<dd><p>Return an adaptive threshold, which is equal to twice the mean of <cite>matrix</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>matrix</strong> (<em>np.ndarray</em>) – a data array</p></li>
<li><p><strong>max_value</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)"><em>float</em></a><em>, </em><em>optional</em>) – the upper limit of the threshold. Defaults to 1.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><cite>min(2 * matrix.mean(), max_value)</cite></p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.14)">float</a></p>
</dd>
</dl>
</dd></dl>

</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="metrics.html" class="btn btn-neutral float-left" title="Supported Metrics" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2025, lartpang.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>